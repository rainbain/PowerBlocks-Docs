\doxysection{powerblocks/core/system/system.h File Reference}
\hypertarget{system_8h}{}\label{system_8h}\index{powerblocks/core/system/system.h@{powerblocks/core/system/system.h}}


Access parts of the base system.  


{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$stddef.\+h$>$}\newline
{\ttfamily \#include "{}powerblocks/core/system/syscall.\+h"{}}\newline
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structsystem__argv__t}{system\+\_\+argv\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Command line arguments passed to us from launcher. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{system_8h_a26bd75db05b562b94cf2ceb32ab29226}{SYSTEM\+\_\+\+BUS\+\_\+\+CLOCK\+\_\+\+HZ}}~243000000
\begin{DoxyCompactList}\small\item\em Memory bus clock speed. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{system_8h_a54d4ac736d91fc60ea09f932ee78e76e}{SYSTEM\+\_\+\+CORE\+\_\+\+CLOCK\+\_\+\+HZ}}~729000000
\begin{DoxyCompactList}\small\item\em Core clock speed. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{system_8h_a1fe94f7a3264607b053ef474c3685721}{SYSTEM\+\_\+\+TB\+\_\+\+CLOCK\+\_\+\+HZ}}~(\mbox{\hyperlink{system_8h_a26bd75db05b562b94cf2ceb32ab29226}{SYSTEM\+\_\+\+BUS\+\_\+\+CLOCK\+\_\+\+HZ}} / 4)
\begin{DoxyCompactList}\small\item\em Time base (internal CPU counter) clock speed. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{system_8h_af19c7b9259e070db928836a4402e57c2}{SYSTEM\+\_\+\+US\+\_\+\+TO\+\_\+\+TICKS}}(us)
\begin{DoxyCompactList}\small\item\em Convert microseconds to time base ticks. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{system_8h_a59f6a0035cb06e3d66cd617981a455fd}{SYSTEM\+\_\+\+MS\+\_\+\+TO\+\_\+\+TICKS}}(ms)
\begin{DoxyCompactList}\small\item\em Convert miliseconds to time base ticks. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{system_8h_afa76073f08e014f8b646ffe2f6bacbe5}{SYSTEM\+\_\+\+S\+\_\+\+TO\+\_\+\+TICKS}}(s)
\begin{DoxyCompactList}\small\item\em Convert seconds to time base ticks. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{system_8h_a3cbf0558b6cae21fcc714bb05a0b2097}{SYSTEM\+\_\+\+MEM\+\_\+\+UNCACHED}}(address)
\begin{DoxyCompactList}\small\item\em Convert a memory address into a uncached virtual address. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{system_8h_ab9351d82229922d8b99ad916c03e1e65}{SYSTEM\+\_\+\+MEM\+\_\+\+CACHED}}(address)
\begin{DoxyCompactList}\small\item\em Convert a memory address into a cached virtual address. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{system_8h_a3e43bae5bc1e875f8fe18526906ec232}{SYSTEM\+\_\+\+MEM\+\_\+\+PHYSICAL}}(address)
\begin{DoxyCompactList}\small\item\em Convert a memory address into a physical address. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{system_8h_a36d525cf4d116b2fe4ecc00222b256f1}{PACKED}}~\+\_\+\+\_\+attribute\+\_\+\+\_\+((packed))
\begin{DoxyCompactList}\small\item\em Pack a data structure. \end{DoxyCompactList}\item 
\Hypertarget{system_8h_af81f3155e333a7c017258f1a69949b0b}\label{system_8h_af81f3155e333a7c017258f1a69949b0b} 
\#define {\bfseries MEM2}~\+\_\+\+\_\+attribute\+\_\+\+\_\+((section("{}.mem2"{})))
\item 
\#define \mbox{\hyperlink{system_8h_affdd0491a8b64ec98bdbc6e41691a855}{SYSTEM\+\_\+\+MAIN\+\_\+\+STACK\+\_\+\+SIZE}}~(1024\texorpdfstring{$\ast$}{*}1024\texorpdfstring{$\ast$}{*}4)
\begin{DoxyCompactList}\small\item\em Size of the stack of the application main. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{system_8h_a6533e66cd4f3c4002f62c268bda43458}{SYSTEM\+\_\+\+GET\+\_\+\+MSR}}(msr)
\begin{DoxyCompactList}\small\item\em Gets the value of the MSR register. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{system_8h_a3e7e6218a3dbd4a5a8672d67d6a6dd8c}{SYSTEM\+\_\+\+SET\+\_\+\+MSR}}(msr)
\begin{DoxyCompactList}\small\item\em Sets the value of the MSR register. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{system_8h_afad8f3a4254fc7b33da13e5de99d3781}{SYSTEM\+\_\+\+GET\+\_\+\+DEC}}(msr)
\begin{DoxyCompactList}\small\item\em Gets the value of the decrementing register. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{system_8h_a1b8264889001353a61dabeaea0bce2bc}{SYSTEM\+\_\+\+SET\+\_\+\+DEC}}(msr)
\begin{DoxyCompactList}\small\item\em Sets the value of the decrementing register. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{system_8h_a811c6e42bdbae15a5b12efb292ac64a5}{SYSTEM\+\_\+\+DISABLE\+\_\+\+ISR}}(ee\+\_\+enabled)
\begin{DoxyCompactList}\small\item\em Disables interrupts. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{system_8h_af8ff434cf98ebb961fd42b823be47424}{SYSTEM\+\_\+\+ENABLE\+\_\+\+ISR}}(ee\+\_\+enabled)
\begin{DoxyCompactList}\small\item\em Enables interrupts if ee\+\_\+enabled is set. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{system_8h_a2825ef123e6c0ae126c13844298550b3}{SYSTEM\+\_\+\+SYNC}}()
\begin{DoxyCompactList}\small\item\em Insures all previous instructions have executed. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{system_8h_ad8e678c746e60405a4630c8b330e2479}{SYSTEM\+\_\+\+ISYNC}}()
\begin{DoxyCompactList}\small\item\em Refetches any instructions that may have been fetched earlier. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{system_8h_aca68c0d4ac8df0838e209fb5300f7be3}{ASSERT}}(x)
\begin{DoxyCompactList}\small\item\em Triggers a crash with debug info if a condition fails. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{system_8h_afbec57bfd91c7f80ce83af10b66b3578}{ASSERT\+\_\+\+OUT\+\_\+\+OF\+\_\+\+MEMORY}}(x)
\begin{DoxyCompactList}\small\item\em Triggers a out of memory assertion if the condition fails. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{system_8h_abe7f8cd9a0ce69b71567a3870415be66}{ALIGN}}(x)
\begin{DoxyCompactList}\small\item\em Add an alignment attribute to some data. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{system_8h_a7555ae309cdb58139d77744e6719d671}{SYSTEM\+\_\+\+SWITCH\+\_\+\+SP}}(x)
\begin{DoxyCompactList}\small\item\em Switches the stack pointer with px\+Current\+TCB in a task switch. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
uint64\+\_\+t \mbox{\hyperlink{system_8h_a5d2d66460da56496cafedc46ee77b0e0}{system\+\_\+get\+\_\+time\+\_\+base\+\_\+int}} ()
\begin{DoxyCompactList}\small\item\em Gets the time base register of the CPU. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{system_8h_ae25ed0d22d925d0b45ad6143ea9a75fd}{system\+\_\+delay\+\_\+int}} (uint64\+\_\+t ticks)
\begin{DoxyCompactList}\small\item\em Sleeps for a certain number of ticks. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{system_8h_affe880ad4a8e5b17651d806747fdc906}{system\+\_\+flush\+\_\+dcache}} (const void \texorpdfstring{$\ast$}{*}data, uint32\+\_\+t size)
\begin{DoxyCompactList}\small\item\em Flushes data cache in a range. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{system_8h_ad848eb53c91a2faa645227889eff19ec}{system\+\_\+invalidate\+\_\+dcache}} (void \texorpdfstring{$\ast$}{*}data, uint32\+\_\+t size)
\begin{DoxyCompactList}\small\item\em Invalidates data cache in a range. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{system_8h_a50a5e1a0d6ecb7730e80e304729abe86}{system\+\_\+invalidate\+\_\+icache}} (void \texorpdfstring{$\ast$}{*}data, uint32\+\_\+t size)
\begin{DoxyCompactList}\small\item\em Invalidates the instruction cache in a range. \end{DoxyCompactList}\item 
void \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{system_8h_a7c5e9e16601a437cad52677f15cc49f6}{system\+\_\+aligned\+\_\+malloc}} (uint32\+\_\+t bytes, uint32\+\_\+t alignment)
\begin{DoxyCompactList}\small\item\em Allocate memory with alignment. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{system_8h_a9c68883bc316dd322bbda387d0321c4b}{system\+\_\+aligned\+\_\+free}} (void \texorpdfstring{$\ast$}{*}ptr)
\begin{DoxyCompactList}\small\item\em Free allocated memory with alignment. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{system_8h_a2e1b0877a1df13187c6aadf8f554d877}{system\+\_\+initialize}} ()
\begin{DoxyCompactList}\small\item\em Initializes the system. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{system_8h_ad4df50c1cd712e41557442f42c42563f}{system\+\_\+get\+\_\+boot\+\_\+path}} (const char \texorpdfstring{$\ast$}{*}device, char \texorpdfstring{$\ast$}{*}buffer, size\+\_\+t length)
\begin{DoxyCompactList}\small\item\em Looks in the argv command line for a specific boot path. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{system_8h_a3bf675a0d4f67e4e0b19e53c96bd5934}\label{system_8h_a3bf675a0d4f67e4e0b19e53c96bd5934} 
\mbox{\hyperlink{structsystem__argv__t}{system\+\_\+argv\+\_\+t}} {\bfseries system\+\_\+argv}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Access parts of the base system. 

Access parts of the base system. Like time and such.

\begin{DoxyAuthor}{Author}
Samuel Fitzsimons (rainbain) 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2025 @license MIT (see LICENSE file) 
\end{DoxyDate}


\doxysubsection{Macro Definition Documentation}
\Hypertarget{system_8h_abe7f8cd9a0ce69b71567a3870415be66}\index{system.h@{system.h}!ALIGN@{ALIGN}}
\index{ALIGN@{ALIGN}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{ALIGN}{ALIGN}}
{\footnotesize\ttfamily \label{system_8h_abe7f8cd9a0ce69b71567a3870415be66} 
\#define ALIGN(\begin{DoxyParamCaption}\item[{}]{x}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\_\_attribute\_\_((aligned(x)))}

\end{DoxyCode}


Add an alignment attribute to some data. 

Used to make a variable memory aligned for hardware \Hypertarget{system_8h_aca68c0d4ac8df0838e209fb5300f7be3}\index{system.h@{system.h}!ASSERT@{ASSERT}}
\index{ASSERT@{ASSERT}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{ASSERT}{ASSERT}}
{\footnotesize\ttfamily \label{system_8h_aca68c0d4ac8df0838e209fb5300f7be3} 
\#define ASSERT(\begin{DoxyParamCaption}\item[{}]{x}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}((x)\ ==\ 0)\ \{\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ SYSCALL\_ASSERT(\textcolor{stringliteral}{"{}ASSERTION\ FAILED"{}},\ \_\_LINE\_\_,\ \_\_FILE\_\_);\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \}}

\end{DoxyCode}


Triggers a crash with debug info if a condition fails. 

Triggers a crash with debug info if a condition fails. \Hypertarget{system_8h_afbec57bfd91c7f80ce83af10b66b3578}\index{system.h@{system.h}!ASSERT\_OUT\_OF\_MEMORY@{ASSERT\_OUT\_OF\_MEMORY}}
\index{ASSERT\_OUT\_OF\_MEMORY@{ASSERT\_OUT\_OF\_MEMORY}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{ASSERT\_OUT\_OF\_MEMORY}{ASSERT\_OUT\_OF\_MEMORY}}
{\footnotesize\ttfamily \label{system_8h_afbec57bfd91c7f80ce83af10b66b3578} 
\#define ASSERT\+\_\+\+OUT\+\_\+\+OF\+\_\+\+MEMORY(\begin{DoxyParamCaption}\item[{}]{x}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}((x)\ ==\ 0)\ \{\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ SYSCALL\_ASSERT(\textcolor{stringliteral}{"{}OUT\ OF\ MEMORY"{}},\ \_\_LINE\_\_,\ \_\_FILE\_\_);\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \}}

\end{DoxyCode}


Triggers a out of memory assertion if the condition fails. 

Normally out of memory errors are propagated up as a return value. But in the event a driver, or some critical system fails to allocate the heap at runtime, and must crash, then this assertion can be used.

Games can also use it if they find a memory condition fatal for whatever reason. \Hypertarget{system_8h_a36d525cf4d116b2fe4ecc00222b256f1}\index{system.h@{system.h}!PACKED@{PACKED}}
\index{PACKED@{PACKED}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{PACKED}{PACKED}}
{\footnotesize\ttfamily \label{system_8h_a36d525cf4d116b2fe4ecc00222b256f1} 
\#define PACKED~\+\_\+\+\_\+attribute\+\_\+\+\_\+((packed))}



Pack a data structure. 

Attribute to make it so fields in a data structure are not alignment padded. \Hypertarget{system_8h_a26bd75db05b562b94cf2ceb32ab29226}\index{system.h@{system.h}!SYSTEM\_BUS\_CLOCK\_HZ@{SYSTEM\_BUS\_CLOCK\_HZ}}
\index{SYSTEM\_BUS\_CLOCK\_HZ@{SYSTEM\_BUS\_CLOCK\_HZ}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{SYSTEM\_BUS\_CLOCK\_HZ}{SYSTEM\_BUS\_CLOCK\_HZ}}
{\footnotesize\ttfamily \label{system_8h_a26bd75db05b562b94cf2ceb32ab29226} 
\#define SYSTEM\+\_\+\+BUS\+\_\+\+CLOCK\+\_\+\+HZ~243000000}



Memory bus clock speed. 

Clock speed of the memory bus. It also defines the time of the CPU. \Hypertarget{system_8h_a54d4ac736d91fc60ea09f932ee78e76e}\index{system.h@{system.h}!SYSTEM\_CORE\_CLOCK\_HZ@{SYSTEM\_CORE\_CLOCK\_HZ}}
\index{SYSTEM\_CORE\_CLOCK\_HZ@{SYSTEM\_CORE\_CLOCK\_HZ}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{SYSTEM\_CORE\_CLOCK\_HZ}{SYSTEM\_CORE\_CLOCK\_HZ}}
{\footnotesize\ttfamily \label{system_8h_a54d4ac736d91fc60ea09f932ee78e76e} 
\#define SYSTEM\+\_\+\+CORE\+\_\+\+CLOCK\+\_\+\+HZ~729000000}



Core clock speed. 

Clock speed of the CPU core. \Hypertarget{system_8h_a811c6e42bdbae15a5b12efb292ac64a5}\index{system.h@{system.h}!SYSTEM\_DISABLE\_ISR@{SYSTEM\_DISABLE\_ISR}}
\index{SYSTEM\_DISABLE\_ISR@{SYSTEM\_DISABLE\_ISR}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{SYSTEM\_DISABLE\_ISR}{SYSTEM\_DISABLE\_ISR}}
{\footnotesize\ttfamily \label{system_8h_a811c6e42bdbae15a5b12efb292ac64a5} 
\#define SYSTEM\+\_\+\+DISABLE\+\_\+\+ISR(\begin{DoxyParamCaption}\item[{}]{ee\+\_\+enabled}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{do}\ \{\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ uint32\_t\ msr;\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ SYSTEM\_GET\_MSR(msr);\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ ee\_enabled\ =\ (msr\ >>\ 15)\ \&\ 1;\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ msr\ \&=\ \string~(0x8000);\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ SYSTEM\_SET\_MSR(msr);\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \}\ \textcolor{keywordflow}{while}(0)}

\end{DoxyCode}


Disables interrupts. 

Disables interrupts, returns the external interrupt enable bit. \Hypertarget{system_8h_af8ff434cf98ebb961fd42b823be47424}\index{system.h@{system.h}!SYSTEM\_ENABLE\_ISR@{SYSTEM\_ENABLE\_ISR}}
\index{SYSTEM\_ENABLE\_ISR@{SYSTEM\_ENABLE\_ISR}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{SYSTEM\_ENABLE\_ISR}{SYSTEM\_ENABLE\_ISR}}
{\footnotesize\ttfamily \label{system_8h_af8ff434cf98ebb961fd42b823be47424} 
\#define SYSTEM\+\_\+\+ENABLE\+\_\+\+ISR(\begin{DoxyParamCaption}\item[{}]{ee\+\_\+enabled}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}(ee\_enabled)\ \{\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ uint32\_t\ msr;\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ SYSTEM\_GET\_MSR(msr);\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ msr\ |=\ 0x8000;\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ SYSTEM\_SET\_MSR(msr);\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \}}

\end{DoxyCode}


Enables interrupts if ee\+\_\+enabled is set. 

Enables interrupts if ee\+\_\+enabled is set. Can be used along with SYSTEM\+\_\+\+DISABLE\+\_\+\+ISR, to only reenable interrupts if they were enabled in the first place. \Hypertarget{system_8h_afad8f3a4254fc7b33da13e5de99d3781}\index{system.h@{system.h}!SYSTEM\_GET\_DEC@{SYSTEM\_GET\_DEC}}
\index{SYSTEM\_GET\_DEC@{SYSTEM\_GET\_DEC}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{SYSTEM\_GET\_DEC}{SYSTEM\_GET\_DEC}}
{\footnotesize\ttfamily \label{system_8h_afad8f3a4254fc7b33da13e5de99d3781} 
\#define SYSTEM\+\_\+\+GET\+\_\+\+DEC(\begin{DoxyParamCaption}\item[{}]{msr}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \_\_asm\_\_\ \_\_volatile\_\_(\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}mfdec\ \%0"{}}\ :\ \textcolor{stringliteral}{"{}=r"{}}(msr)\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ );}

\end{DoxyCode}


Gets the value of the decrementing register. 

Gets the value of the decrementing register. When it his zero an interrupt will be triggered. Used for context switching. \Hypertarget{system_8h_a6533e66cd4f3c4002f62c268bda43458}\index{system.h@{system.h}!SYSTEM\_GET\_MSR@{SYSTEM\_GET\_MSR}}
\index{SYSTEM\_GET\_MSR@{SYSTEM\_GET\_MSR}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{SYSTEM\_GET\_MSR}{SYSTEM\_GET\_MSR}}
{\footnotesize\ttfamily \label{system_8h_a6533e66cd4f3c4002f62c268bda43458} 
\#define SYSTEM\+\_\+\+GET\+\_\+\+MSR(\begin{DoxyParamCaption}\item[{}]{msr}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \_\_asm\_\_\ \_\_volatile\_\_(\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}mfmsr\ \%0"{}}\ :\ \textcolor{stringliteral}{"{}=r"{}}(msr)\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ );}

\end{DoxyCode}


Gets the value of the MSR register. 

Gets the value of the MSR register. \Hypertarget{system_8h_ad8e678c746e60405a4630c8b330e2479}\index{system.h@{system.h}!SYSTEM\_ISYNC@{SYSTEM\_ISYNC}}
\index{SYSTEM\_ISYNC@{SYSTEM\_ISYNC}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{SYSTEM\_ISYNC}{SYSTEM\_ISYNC}}
{\footnotesize\ttfamily \label{system_8h_ad8e678c746e60405a4630c8b330e2479} 
\#define SYSTEM\+\_\+\+ISYNC(\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \_\_asm\_\_\ \_\_volatile\_\_(\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}isync"{}}\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ );}

\end{DoxyCode}


Refetches any instructions that may have been fetched earlier. 

Refetches any instructions that may have been fetched earlier. \Hypertarget{system_8h_affdd0491a8b64ec98bdbc6e41691a855}\index{system.h@{system.h}!SYSTEM\_MAIN\_STACK\_SIZE@{SYSTEM\_MAIN\_STACK\_SIZE}}
\index{SYSTEM\_MAIN\_STACK\_SIZE@{SYSTEM\_MAIN\_STACK\_SIZE}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{SYSTEM\_MAIN\_STACK\_SIZE}{SYSTEM\_MAIN\_STACK\_SIZE}}
{\footnotesize\ttfamily \label{system_8h_affdd0491a8b64ec98bdbc6e41691a855} 
\#define SYSTEM\+\_\+\+MAIN\+\_\+\+STACK\+\_\+\+SIZE~(1024\texorpdfstring{$\ast$}{*}1024\texorpdfstring{$\ast$}{*}4)}



Size of the stack of the application main. 

Size of the stack of the application main. When the system starts, the main() will be a Free\+RTOS task of this stack size. \Hypertarget{system_8h_ab9351d82229922d8b99ad916c03e1e65}\index{system.h@{system.h}!SYSTEM\_MEM\_CACHED@{SYSTEM\_MEM\_CACHED}}
\index{SYSTEM\_MEM\_CACHED@{SYSTEM\_MEM\_CACHED}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{SYSTEM\_MEM\_CACHED}{SYSTEM\_MEM\_CACHED}}
{\footnotesize\ttfamily \label{system_8h_ab9351d82229922d8b99ad916c03e1e65} 
\#define SYSTEM\+\_\+\+MEM\+\_\+\+CACHED(\begin{DoxyParamCaption}\item[{}]{address}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{(((uint32\_t)(address)\ \&\ 0x1FFFFFFF)\ |\ 0x80000000)}

\end{DoxyCode}


Convert a memory address into a cached virtual address. 

Converts a cached address into a cached virtual address. This is done by setting the MSB nibble. \Hypertarget{system_8h_a3e43bae5bc1e875f8fe18526906ec232}\index{system.h@{system.h}!SYSTEM\_MEM\_PHYSICAL@{SYSTEM\_MEM\_PHYSICAL}}
\index{SYSTEM\_MEM\_PHYSICAL@{SYSTEM\_MEM\_PHYSICAL}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{SYSTEM\_MEM\_PHYSICAL}{SYSTEM\_MEM\_PHYSICAL}}
{\footnotesize\ttfamily \label{system_8h_a3e43bae5bc1e875f8fe18526906ec232} 
\#define SYSTEM\+\_\+\+MEM\+\_\+\+PHYSICAL(\begin{DoxyParamCaption}\item[{}]{address}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{((uint32\_t)(address)\ \&\ 0x1FFFFFFF)}

\end{DoxyCode}


Convert a memory address into a physical address. 

Converts a cached address into a physical address. This is done by setting the MSB nibble. \Hypertarget{system_8h_a3cbf0558b6cae21fcc714bb05a0b2097}\index{system.h@{system.h}!SYSTEM\_MEM\_UNCACHED@{SYSTEM\_MEM\_UNCACHED}}
\index{SYSTEM\_MEM\_UNCACHED@{SYSTEM\_MEM\_UNCACHED}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{SYSTEM\_MEM\_UNCACHED}{SYSTEM\_MEM\_UNCACHED}}
{\footnotesize\ttfamily \label{system_8h_a3cbf0558b6cae21fcc714bb05a0b2097} 
\#define SYSTEM\+\_\+\+MEM\+\_\+\+UNCACHED(\begin{DoxyParamCaption}\item[{}]{address}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{(((uint32\_t)(address)\ \&\ 0x1FFFFFFF)\ |\ 0xC0000000)}

\end{DoxyCode}


Convert a memory address into a uncached virtual address. 

Converts a cached address into a uncached virtual address. This is done by setting the MSB nibble. \Hypertarget{system_8h_a59f6a0035cb06e3d66cd617981a455fd}\index{system.h@{system.h}!SYSTEM\_MS\_TO\_TICKS@{SYSTEM\_MS\_TO\_TICKS}}
\index{SYSTEM\_MS\_TO\_TICKS@{SYSTEM\_MS\_TO\_TICKS}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{SYSTEM\_MS\_TO\_TICKS}{SYSTEM\_MS\_TO\_TICKS}}
{\footnotesize\ttfamily \label{system_8h_a59f6a0035cb06e3d66cd617981a455fd} 
\#define SYSTEM\+\_\+\+MS\+\_\+\+TO\+\_\+\+TICKS(\begin{DoxyParamCaption}\item[{}]{ms}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{(\mbox{\hyperlink{system_8h_a1fe94f7a3264607b053ef474c3685721}{SYSTEM\_TB\_CLOCK\_HZ}}\ /\ 1000\ *\ (ms))}

\end{DoxyCode}


Convert miliseconds to time base ticks. 

Convert miliseconds to time base ticks. \Hypertarget{system_8h_afa76073f08e014f8b646ffe2f6bacbe5}\index{system.h@{system.h}!SYSTEM\_S\_TO\_TICKS@{SYSTEM\_S\_TO\_TICKS}}
\index{SYSTEM\_S\_TO\_TICKS@{SYSTEM\_S\_TO\_TICKS}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{SYSTEM\_S\_TO\_TICKS}{SYSTEM\_S\_TO\_TICKS}}
{\footnotesize\ttfamily \label{system_8h_afa76073f08e014f8b646ffe2f6bacbe5} 
\#define SYSTEM\+\_\+\+S\+\_\+\+TO\+\_\+\+TICKS(\begin{DoxyParamCaption}\item[{}]{s}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{(\mbox{\hyperlink{system_8h_a1fe94f7a3264607b053ef474c3685721}{SYSTEM\_TB\_CLOCK\_HZ}}\ *\ (s))}

\end{DoxyCode}


Convert seconds to time base ticks. 

Convert seconds to time base ticks. \Hypertarget{system_8h_a1b8264889001353a61dabeaea0bce2bc}\index{system.h@{system.h}!SYSTEM\_SET\_DEC@{SYSTEM\_SET\_DEC}}
\index{SYSTEM\_SET\_DEC@{SYSTEM\_SET\_DEC}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{SYSTEM\_SET\_DEC}{SYSTEM\_SET\_DEC}}
{\footnotesize\ttfamily \label{system_8h_a1b8264889001353a61dabeaea0bce2bc} 
\#define SYSTEM\+\_\+\+SET\+\_\+\+DEC(\begin{DoxyParamCaption}\item[{}]{msr}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \_\_asm\_\_\ \_\_volatile\_\_(\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}mtdec\ \%0"{}}\ :\ :\ \textcolor{stringliteral}{"{}r"{}}(msr)\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ );}

\end{DoxyCode}


Sets the value of the decrementing register. 

Sets the value of the decrementing register. When it his zero an interrupt will be triggered. Used for context switching. \Hypertarget{system_8h_a3e7e6218a3dbd4a5a8672d67d6a6dd8c}\index{system.h@{system.h}!SYSTEM\_SET\_MSR@{SYSTEM\_SET\_MSR}}
\index{SYSTEM\_SET\_MSR@{SYSTEM\_SET\_MSR}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{SYSTEM\_SET\_MSR}{SYSTEM\_SET\_MSR}}
{\footnotesize\ttfamily \label{system_8h_a3e7e6218a3dbd4a5a8672d67d6a6dd8c} 
\#define SYSTEM\+\_\+\+SET\+\_\+\+MSR(\begin{DoxyParamCaption}\item[{}]{msr}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \_\_asm\_\_\ \_\_volatile\_\_(\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}mtmsr\ \%0"{}}\ :\ :\ \textcolor{stringliteral}{"{}r"{}}(msr)\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ );}

\end{DoxyCode}


Sets the value of the MSR register. 

Sets the value of the MSR register. \Hypertarget{system_8h_a7555ae309cdb58139d77744e6719d671}\index{system.h@{system.h}!SYSTEM\_SWITCH\_SP@{SYSTEM\_SWITCH\_SP}}
\index{SYSTEM\_SWITCH\_SP@{SYSTEM\_SWITCH\_SP}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{SYSTEM\_SWITCH\_SP}{SYSTEM\_SWITCH\_SP}}
{\footnotesize\ttfamily \label{system_8h_a7555ae309cdb58139d77744e6719d671} 
\#define SYSTEM\+\_\+\+SWITCH\+\_\+\+SP(\begin{DoxyParamCaption}\item[{}]{x}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \ \_\_asm\_\_\ \_\_volatile\_\_\ (\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}lis\ \ \ \ r3,\ pxCurrentTCB@ha\(\backslash\)n\(\backslash\)t"{}}\ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}lwz\ \ \ \ r4,\ pxCurrentTCB@l(r3)\(\backslash\)n\(\backslash\)t"{}}\ \ \ \ \ \textcolor{comment}{/*\ r4\ =\ pxCurrentTCB\ */}\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}mr\ \ \ \ \ r5,\ r1\(\backslash\)n\(\backslash\)t"{}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ r5\ =\ current\ SP\ */}\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}stw\ \ \ \ r5,\ 0(r4)\(\backslash\)n\(\backslash\)t"{}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ pxCurrentTCB-\/>pxTopOfStack\ =\ SP\ */}\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Call\ vTaskSwitchContext()\ */}\ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}bl\ \ \ \ \ vTaskSwitchContext\(\backslash\)n\(\backslash\)t"{}}\ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}lis\ \ \ \ r3,\ pxCurrentTCB@ha\(\backslash\)n\(\backslash\)t"{}}\ \ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}lwz\ \ \ \ r4,\ pxCurrentTCB@l(r3)\(\backslash\)n\(\backslash\)t"{}}\ \ \ \ \ \textcolor{comment}{/*\ r4\ =\ pxCurrentTCB\ */}\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}lwz\ \ \ \ r1,\ 0(r4)\(\backslash\)n\(\backslash\)t"{}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ SP\ =\ pxCurrentTCB-\/>pxTopOfStack\ */}\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ )}

\end{DoxyCode}


Switches the stack pointer with px\+Current\+TCB in a task switch. 

Switches the stack pointer with px\+Current\+TCB in a task switch. Do not call this outside of exception handers/syscalls that switch execution context. \Hypertarget{system_8h_a2825ef123e6c0ae126c13844298550b3}\index{system.h@{system.h}!SYSTEM\_SYNC@{SYSTEM\_SYNC}}
\index{SYSTEM\_SYNC@{SYSTEM\_SYNC}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{SYSTEM\_SYNC}{SYSTEM\_SYNC}}
{\footnotesize\ttfamily \label{system_8h_a2825ef123e6c0ae126c13844298550b3} 
\#define SYSTEM\+\_\+\+SYNC(\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \_\_asm\_\_\ \_\_volatile\_\_(\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}sync"{}}\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ );}

\end{DoxyCode}


Insures all previous instructions have executed. 

Insures all previous instructions have executed. \Hypertarget{system_8h_a1fe94f7a3264607b053ef474c3685721}\index{system.h@{system.h}!SYSTEM\_TB\_CLOCK\_HZ@{SYSTEM\_TB\_CLOCK\_HZ}}
\index{SYSTEM\_TB\_CLOCK\_HZ@{SYSTEM\_TB\_CLOCK\_HZ}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{SYSTEM\_TB\_CLOCK\_HZ}{SYSTEM\_TB\_CLOCK\_HZ}}
{\footnotesize\ttfamily \label{system_8h_a1fe94f7a3264607b053ef474c3685721} 
\#define SYSTEM\+\_\+\+TB\+\_\+\+CLOCK\+\_\+\+HZ~(\mbox{\hyperlink{system_8h_a26bd75db05b562b94cf2ceb32ab29226}{SYSTEM\+\_\+\+BUS\+\_\+\+CLOCK\+\_\+\+HZ}} / 4)}



Time base (internal CPU counter) clock speed. 

Clock speed of the CPU\textquotesingle{}s internal clock. It is 1/4th the bus clock speed. \Hypertarget{system_8h_af19c7b9259e070db928836a4402e57c2}\index{system.h@{system.h}!SYSTEM\_US\_TO\_TICKS@{SYSTEM\_US\_TO\_TICKS}}
\index{SYSTEM\_US\_TO\_TICKS@{SYSTEM\_US\_TO\_TICKS}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{SYSTEM\_US\_TO\_TICKS}{SYSTEM\_US\_TO\_TICKS}}
{\footnotesize\ttfamily \label{system_8h_af19c7b9259e070db928836a4402e57c2} 
\#define SYSTEM\+\_\+\+US\+\_\+\+TO\+\_\+\+TICKS(\begin{DoxyParamCaption}\item[{}]{us}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{(\mbox{\hyperlink{system_8h_a1fe94f7a3264607b053ef474c3685721}{SYSTEM\_TB\_CLOCK\_HZ}}\ /\ 1000000\ *\ (us))}

\end{DoxyCode}


Convert microseconds to time base ticks. 

Convert microseconds to time base ticks. 

\doxysubsection{Function Documentation}
\Hypertarget{system_8h_a9c68883bc316dd322bbda387d0321c4b}\index{system.h@{system.h}!system\_aligned\_free@{system\_aligned\_free}}
\index{system\_aligned\_free@{system\_aligned\_free}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{system\_aligned\_free()}{system\_aligned\_free()}}
{\footnotesize\ttfamily \label{system_8h_a9c68883bc316dd322bbda387d0321c4b} 
void system\+\_\+aligned\+\_\+free (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{ptr}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [extern]}}



Free allocated memory with alignment. 

Free allocated memory with alignment. \Hypertarget{system_8h_a7c5e9e16601a437cad52677f15cc49f6}\index{system.h@{system.h}!system\_aligned\_malloc@{system\_aligned\_malloc}}
\index{system\_aligned\_malloc@{system\_aligned\_malloc}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{system\_aligned\_malloc()}{system\_aligned\_malloc()}}
{\footnotesize\ttfamily \label{system_8h_a7c5e9e16601a437cad52677f15cc49f6} 
void \texorpdfstring{$\ast$}{*} system\+\_\+aligned\+\_\+malloc (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{bytes}{, }\item[{uint32\+\_\+t}]{alignment}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [extern]}}



Allocate memory with alignment. 

Allocate memory aligned to a certain number of bytes. A lot of hardware requires aligned memory. Usually 32 bytes.

Must be a power of 2.

Offsets the pointer by the alignment and stores the original unaligned pointer before the pointer returned. \Hypertarget{system_8h_ae25ed0d22d925d0b45ad6143ea9a75fd}\index{system.h@{system.h}!system\_delay\_int@{system\_delay\_int}}
\index{system\_delay\_int@{system\_delay\_int}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{system\_delay\_int()}{system\_delay\_int()}}
{\footnotesize\ttfamily \label{system_8h_ae25ed0d22d925d0b45ad6143ea9a75fd} 
void system\+\_\+delay\+\_\+int (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{ticks}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [extern]}}



Sleeps for a certain number of ticks. 

Waits for a certain number of ticks to elapse.

No interrupts version.

Recommend using Free\+RTOS v\+Task\+Delay instead.


\begin{DoxyParams}{Parameters}
{\em ticks} & Number of ticks to wait for \\
\hline
\end{DoxyParams}
\Hypertarget{system_8h_affe880ad4a8e5b17651d806747fdc906}\index{system.h@{system.h}!system\_flush\_dcache@{system\_flush\_dcache}}
\index{system\_flush\_dcache@{system\_flush\_dcache}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{system\_flush\_dcache()}{system\_flush\_dcache()}}
{\footnotesize\ttfamily \label{system_8h_affe880ad4a8e5b17651d806747fdc906} 
void system\+\_\+flush\+\_\+dcache (\begin{DoxyParamCaption}\item[{const void \texorpdfstring{$\ast$}{*}}]{data}{, }\item[{uint32\+\_\+t}]{size}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [extern]}}



Flushes data cache in a range. 

Flushes the CPUs data cache in a range such that all changes from CPU be visible to hardware.

Does not call sync after, so right after this the cache may not be done flushing. \Hypertarget{system_8h_ad4df50c1cd712e41557442f42c42563f}\index{system.h@{system.h}!system\_get\_boot\_path@{system\_get\_boot\_path}}
\index{system\_get\_boot\_path@{system\_get\_boot\_path}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{system\_get\_boot\_path()}{system\_get\_boot\_path()}}
{\footnotesize\ttfamily \label{system_8h_ad4df50c1cd712e41557442f42c42563f} 
void system\+\_\+get\+\_\+boot\+\_\+path (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{device}{, }\item[{char \texorpdfstring{$\ast$}{*}}]{buffer}{, }\item[{size\+\_\+t}]{length}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [extern]}}



Looks in the argv command line for a specific boot path. 

When mounting a file system, this can be used to change the directory into the one the program was launched from if the file system is the one its running from.

For example passing a device of "{}sd"{} into device, it will fill buffer with the {\ttfamily /apps/my\+\_\+app/} path if the game was launched from the sd. If not it will return {\ttfamily /} into it.


\begin{DoxyParams}{Parameters}
{\em device} & Boot device \\
\hline
{\em buffer} & Outputted path buffer \\
\hline
{\em length} & Length of path buffer. \\
\hline
\end{DoxyParams}
\Hypertarget{system_8h_a5d2d66460da56496cafedc46ee77b0e0}\index{system.h@{system.h}!system\_get\_time\_base\_int@{system\_get\_time\_base\_int}}
\index{system\_get\_time\_base\_int@{system\_get\_time\_base\_int}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{system\_get\_time\_base\_int()}{system\_get\_time\_base\_int()}}
{\footnotesize\ttfamily \label{system_8h_a5d2d66460da56496cafedc46ee77b0e0} 
uint64\+\_\+t system\+\_\+get\+\_\+time\+\_\+base\+\_\+int (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [extern]}}



Gets the time base register of the CPU. 

Returns the 64 bit internal timer value of the CPU. Ticks up at speed of SYSTEM\+\_\+\+TB\+\_\+\+CLOCK\+\_\+\+HZ.

No interrupts version. \Hypertarget{system_8h_a2e1b0877a1df13187c6aadf8f554d877}\index{system.h@{system.h}!system\_initialize@{system\_initialize}}
\index{system\_initialize@{system\_initialize}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{system\_initialize()}{system\_initialize()}}
{\footnotesize\ttfamily \label{system_8h_a2e1b0877a1df13187c6aadf8f554d877} 
void system\+\_\+initialize (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [extern]}}



Initializes the system. 

Initializes the system. Called from start.\+s, so this all happens before the C program starts running. \Hypertarget{system_8h_ad848eb53c91a2faa645227889eff19ec}\index{system.h@{system.h}!system\_invalidate\_dcache@{system\_invalidate\_dcache}}
\index{system\_invalidate\_dcache@{system\_invalidate\_dcache}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{system\_invalidate\_dcache()}{system\_invalidate\_dcache()}}
{\footnotesize\ttfamily \label{system_8h_ad848eb53c91a2faa645227889eff19ec} 
void system\+\_\+invalidate\+\_\+dcache (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{data}{, }\item[{uint32\+\_\+t}]{size}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [extern]}}



Invalidates data cache in a range. 

Invalidates the CPUs data cache in a range such that all changes from hardware are visible to the CPU. \Hypertarget{system_8h_a50a5e1a0d6ecb7730e80e304729abe86}\index{system.h@{system.h}!system\_invalidate\_icache@{system\_invalidate\_icache}}
\index{system\_invalidate\_icache@{system\_invalidate\_icache}!system.h@{system.h}}
\doxysubsubsection{\texorpdfstring{system\_invalidate\_icache()}{system\_invalidate\_icache()}}
{\footnotesize\ttfamily \label{system_8h_a50a5e1a0d6ecb7730e80e304729abe86} 
void system\+\_\+invalidate\+\_\+icache (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{data}{, }\item[{uint32\+\_\+t}]{size}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [extern]}}



Invalidates the instruction cache in a range. 

Invalidates the CPUs instruction cache in a range such that all changes from CPU be visible to instruction fetching.

Does not call isync after, so right after this the cache may not be done invalidating. 