\doxysection{powerblocks/core/graphics/video.c File Reference}
\hypertarget{video_8c}{}\label{video_8c}\index{powerblocks/core/graphics/video.c@{powerblocks/core/graphics/video.c}}


Manages the video output of the system.  


{\ttfamily \#include "{}video.\+h"{}}\newline
{\ttfamily \#include "{}system/system.\+h"{}}\newline
{\ttfamily \#include "{}system/exceptions.\+h"{}}\newline
{\ttfamily \#include "{}ios/ios\+\_\+settings.\+h"{}}\newline
{\ttfamily \#include "{}Free\+RTOS.\+h"{}}\newline
{\ttfamily \#include "{}semphr.\+h"{}}\newline
{\ttfamily \#include "{}utils/log.\+h"{}}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{video_8c_a6117619846896c127ba6864a06fdaa24}\label{video_8c_a6117619846896c127ba6864a06fdaa24} 
\#define {\bfseries VI\+\_\+\+BASE}~0xcc002000
\item 
\Hypertarget{video_8c_a06cfe2a95c69dfc60bea9b147b52e178}\label{video_8c_a06cfe2a95c69dfc60bea9b147b52e178} 
\#define {\bfseries VI\+\_\+\+VTR}~(\texorpdfstring{$\ast$}{*}(volatile uint16\+\_\+t\texorpdfstring{$\ast$}{*})0xcc002000)
\item 
\Hypertarget{video_8c_a0818d6a2cd03afb1a4dfa2fcf16ece3b}\label{video_8c_a0818d6a2cd03afb1a4dfa2fcf16ece3b} 
\#define {\bfseries VI\+\_\+\+DCR}~(\texorpdfstring{$\ast$}{*}(volatile uint16\+\_\+t\texorpdfstring{$\ast$}{*})0x\+CC002002)
\item 
\Hypertarget{video_8c_abbea33d5a044e786a56dd21e6205f96e}\label{video_8c_abbea33d5a044e786a56dd21e6205f96e} 
\#define {\bfseries VI\+\_\+\+HTR0}~(\texorpdfstring{$\ast$}{*}(volatile uint32\+\_\+t\texorpdfstring{$\ast$}{*})0x\+CC002004)
\item 
\Hypertarget{video_8c_abda1fcbebb96a86d5897b744d61e7635}\label{video_8c_abda1fcbebb96a86d5897b744d61e7635} 
\#define {\bfseries VI\+\_\+\+HTR1}~(\texorpdfstring{$\ast$}{*}(volatile uint32\+\_\+t\texorpdfstring{$\ast$}{*})0x\+CC002008)
\item 
\Hypertarget{video_8c_ab56ec382200238309f8c089619d3cd67}\label{video_8c_ab56ec382200238309f8c089619d3cd67} 
\#define {\bfseries VI\+\_\+\+VTO}~(\texorpdfstring{$\ast$}{*}(volatile uint32\+\_\+t\texorpdfstring{$\ast$}{*})0x\+CC00200C)
\item 
\Hypertarget{video_8c_a0a47902c80a9aedef90ec3b592bf0764}\label{video_8c_a0a47902c80a9aedef90ec3b592bf0764} 
\#define {\bfseries VI\+\_\+\+VTE}~(\texorpdfstring{$\ast$}{*}(volatile uint32\+\_\+t\texorpdfstring{$\ast$}{*})0x\+CC002010)
\item 
\Hypertarget{video_8c_a11e1aa58d8a8a63cb98a34583fdecc51}\label{video_8c_a11e1aa58d8a8a63cb98a34583fdecc51} 
\#define {\bfseries VI\+\_\+\+BBEI}~(\texorpdfstring{$\ast$}{*}(volatile uint32\+\_\+t\texorpdfstring{$\ast$}{*})0x\+CC002014)
\item 
\Hypertarget{video_8c_a8413a8289b6fd2738efe89f73af81c91}\label{video_8c_a8413a8289b6fd2738efe89f73af81c91} 
\#define {\bfseries VI\+\_\+\+BBOI}~(\texorpdfstring{$\ast$}{*}(volatile uint32\+\_\+t\texorpdfstring{$\ast$}{*})0x\+CC002018)
\item 
\Hypertarget{video_8c_ad1d552c7d457eed8e7858a637b6fb44c}\label{video_8c_ad1d552c7d457eed8e7858a637b6fb44c} 
\#define {\bfseries VI\+\_\+\+TFBL}~(\texorpdfstring{$\ast$}{*}(volatile uint32\+\_\+t\texorpdfstring{$\ast$}{*})0x\+CC00201c)
\item 
\Hypertarget{video_8c_a4826bdcf028252c233b21635ec9cfe33}\label{video_8c_a4826bdcf028252c233b21635ec9cfe33} 
\#define {\bfseries VI\+\_\+\+TFBR}~(\texorpdfstring{$\ast$}{*}(volatile uint32\+\_\+t\texorpdfstring{$\ast$}{*})0x\+CC002020)
\item 
\Hypertarget{video_8c_ad90e6a151413ead47a193c2b0dc20d6a}\label{video_8c_ad90e6a151413ead47a193c2b0dc20d6a} 
\#define {\bfseries VI\+\_\+\+BFBL}~(\texorpdfstring{$\ast$}{*}(volatile uint32\+\_\+t\texorpdfstring{$\ast$}{*})0x\+CC002024)
\item 
\Hypertarget{video_8c_a95037e718c764748b343a255f6f735bf}\label{video_8c_a95037e718c764748b343a255f6f735bf} 
\#define {\bfseries VI\+\_\+\+BFBR}~(\texorpdfstring{$\ast$}{*}(volatile uint32\+\_\+t\texorpdfstring{$\ast$}{*})0x\+CC002028)
\item 
\Hypertarget{video_8c_adad370eb646af8d3f36a306db36c4148}\label{video_8c_adad370eb646af8d3f36a306db36c4148} 
\#define {\bfseries VI\+\_\+\+DPV}~(\texorpdfstring{$\ast$}{*}(volatile uint16\+\_\+t\texorpdfstring{$\ast$}{*})0x\+CC00202C)
\item 
\Hypertarget{video_8c_a455e37c3a574fbe14f3e1bb3c92b4ad7}\label{video_8c_a455e37c3a574fbe14f3e1bb3c92b4ad7} 
\#define {\bfseries VI\+\_\+\+DI0}~(\texorpdfstring{$\ast$}{*}(volatile uint32\+\_\+t\texorpdfstring{$\ast$}{*})0x\+CC002030)
\item 
\Hypertarget{video_8c_ac2681edefa2ce7824bcb3731f4e89660}\label{video_8c_ac2681edefa2ce7824bcb3731f4e89660} 
\#define {\bfseries VI\+\_\+\+DI1}~(\texorpdfstring{$\ast$}{*}(volatile uint32\+\_\+t\texorpdfstring{$\ast$}{*})0x\+CC002034)
\item 
\Hypertarget{video_8c_a0d2d1805c9a3bb52ca0e830abbf641e5}\label{video_8c_a0d2d1805c9a3bb52ca0e830abbf641e5} 
\#define {\bfseries VI\+\_\+\+DI2}~(\texorpdfstring{$\ast$}{*}(volatile uint32\+\_\+t\texorpdfstring{$\ast$}{*})0x\+CC002038)
\item 
\Hypertarget{video_8c_a3b22f297645b814b5c30bc82b32cc074}\label{video_8c_a3b22f297645b814b5c30bc82b32cc074} 
\#define {\bfseries VI\+\_\+\+DI3}~(\texorpdfstring{$\ast$}{*}(volatile uint32\+\_\+t\texorpdfstring{$\ast$}{*})0x\+CC00203C)
\item 
\Hypertarget{video_8c_aba6dff8d038dbc3fafb415c6ccf0a594}\label{video_8c_aba6dff8d038dbc3fafb415c6ccf0a594} 
\#define {\bfseries VI\+\_\+\+DTV}~(\texorpdfstring{$\ast$}{*}(volatile uint32\+\_\+t\texorpdfstring{$\ast$}{*})0x\+CC00206E)
\item 
\Hypertarget{video_8c_aa44c771af2f3034ba561c40aaab6f6ec}\label{video_8c_aa44c771af2f3034ba561c40aaab6f6ec} 
\#define {\bfseries VI\+\_\+\+DCR\+\_\+\+ENABLE}~(1$<$$<$0)
\item 
\Hypertarget{video_8c_a6074ded5e09de091ab1038c94cfed7d8}\label{video_8c_a6074ded5e09de091ab1038c94cfed7d8} 
\#define {\bfseries VI\+\_\+\+DCR\+\_\+\+RESET}~(1$<$$<$1)
\item 
\Hypertarget{video_8c_ab45800f3161a1a17516b95a062a8484e}\label{video_8c_ab45800f3161a1a17516b95a062a8484e} 
\#define {\bfseries VI\+\_\+\+DCR\+\_\+\+PROGRESSIVE}~(1$<$$<$2)
\item 
\Hypertarget{video_8c_aa1774603deace4e4ebee23a15cd8b674}\label{video_8c_aa1774603deace4e4ebee23a15cd8b674} 
\#define {\bfseries VI\+\_\+\+DCR\+\_\+3\+D\+\_\+\+MODE}~(1$<$$<$3)
\item 
\#define \mbox{\hyperlink{video_8c_a715dd69473fc853cca96b99dcb28477f}{VI\+\_\+\+DCR\+\_\+\+LATCH\+\_\+0}}(x)
\item 
\#define \mbox{\hyperlink{video_8c_a05fe8750dd43904a824d5ee943e53498}{VI\+\_\+\+DCR\+\_\+\+LATCH\+\_\+1}}(x)
\item 
\#define \mbox{\hyperlink{video_8c_a58131db876dd57adf6fb2c760306ba70}{VI\+\_\+\+DCR\+\_\+\+FORMAT}}(x)
\item 
\Hypertarget{video_8c_a744f817303e77dbabbdf1e8102dccc29}\label{video_8c_a744f817303e77dbabbdf1e8102dccc29} 
\#define {\bfseries VI\+\_\+\+DTV\+\_\+\+GPIO\+\_\+\+COMPONENT\+\_\+\+CABLE}~(1$<$$<$0)
\item 
\Hypertarget{video_8c_aaa05884efc55f1fe11a98bd393557e8f}\label{video_8c_aaa05884efc55f1fe11a98bd393557e8f} 
\#define {\bfseries VI\+\_\+\+DCR\+\_\+\+LATCH\+\_\+\+OFF}~0
\item 
\Hypertarget{video_8c_a56235f8adda616f30f1ab04b5bab87f7}\label{video_8c_a56235f8adda616f30f1ab04b5bab87f7} 
\#define {\bfseries VI\+\_\+\+DCR\+\_\+\+LATCH\+\_\+\+PAL}~1
\item 
\Hypertarget{video_8c_ad8a14c7729c961703f981612421bf8e6}\label{video_8c_ad8a14c7729c961703f981612421bf8e6} 
\#define {\bfseries VI\+\_\+\+DCR\+\_\+\+LATCH\+\_\+\+MPAL}~2
\item 
\Hypertarget{video_8c_a8938ccba9f00ce3b4549664daad31fbb}\label{video_8c_a8938ccba9f00ce3b4549664daad31fbb} 
\#define {\bfseries VI\+\_\+\+DCR\+\_\+\+LATCH\+\_\+\+DEBUG}~3
\item 
\Hypertarget{video_8c_a6a3adb5928092913bc67faf812314b31}\label{video_8c_a6a3adb5928092913bc67faf812314b31} 
\#define {\bfseries VI\+\_\+\+DCR\+\_\+\+FORMAT\+\_\+\+NTSC}~0
\item 
\Hypertarget{video_8c_a8c6b47e001f3d3c1f56110edbd597c2a}\label{video_8c_a8c6b47e001f3d3c1f56110edbd597c2a} 
\#define {\bfseries VI\+\_\+\+DCR\+\_\+\+FORMAT\+\_\+\+PAL}~1
\item 
\Hypertarget{video_8c_a11ae1fad32afb2aed65ff4e9bc231b23}\label{video_8c_a11ae1fad32afb2aed65ff4e9bc231b23} 
\#define {\bfseries VI\+\_\+\+DCR\+\_\+\+FORMAT\+\_\+\+MPAL}~2
\item 
\Hypertarget{video_8c_a406389045a5c0857e0010294b60ec96b}\label{video_8c_a406389045a5c0857e0010294b60ec96b} 
\#define {\bfseries VI\+\_\+\+DCR\+\_\+\+FORMAT\+\_\+\+RESERVED}~3
\item 
\Hypertarget{video_8c_ac51b0c1cc81954e4c9e16cfdc6b75310}\label{video_8c_ac51b0c1cc81954e4c9e16cfdc6b75310} 
\#define {\bfseries VI\+\_\+\+DI\+\_\+\+STATUS}~(1$<$$<$31)
\item 
\Hypertarget{video_8c_a899cba9342685d092b6dc84505621094}\label{video_8c_a899cba9342685d092b6dc84505621094} 
\#define {\bfseries VI\+\_\+\+DI\+\_\+\+ENABLE}~(1$<$$<$28)
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{video_8h_a5dcb31caf97086512398a3cd6bcfdc2f}{video\+\_\+mode\+\_\+t}} \mbox{\hyperlink{video_8c_ade18e311a9e5a5d7d9649814106dd5e9}{video\+\_\+system\+\_\+default\+\_\+video\+\_\+mode}} ()
\begin{DoxyCompactList}\small\item\em Gets the video mode of the console. \end{DoxyCompactList}\item 
const \mbox{\hyperlink{structvideo__profile__t}{video\+\_\+profile\+\_\+t}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{video_8c_a9a0aec380b964a99d0e1104e191b759f}{video\+\_\+get\+\_\+profile}} (\mbox{\hyperlink{video_8h_a5dcb31caf97086512398a3cd6bcfdc2f}{video\+\_\+mode\+\_\+t}} mode)
\begin{DoxyCompactList}\small\item\em Gets a video profile from a video mode. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{video_8c_a40efe144f286abf18f2b6b53deef2252}{video\+\_\+initialize}} (\mbox{\hyperlink{video_8h_a5dcb31caf97086512398a3cd6bcfdc2f}{video\+\_\+mode\+\_\+t}} mode)
\begin{DoxyCompactList}\small\item\em Initializes the video output. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{video_8c_a54e41000669c8748987ef3a6756fffbc}{video\+\_\+set\+\_\+framebuffer}} (const \mbox{\hyperlink{structframebuffer__t}{framebuffer\+\_\+t}} \texorpdfstring{$\ast$}{*}framebuffer)
\begin{DoxyCompactList}\small\item\em Sets the frame buffer presented to the screen. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structframebuffer__t}{framebuffer\+\_\+t}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{video_8c_ab24210d5efc5afab4b85de98e10eaed2}{video\+\_\+get\+\_\+framebuffer}} ()
\begin{DoxyCompactList}\small\item\em Gets the frame buffer currently displayed. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{video_8c_a12f17a1add49d94ad98ce8b6de9d6a9f}{video\+\_\+wait\+\_\+vsync}} ()
\begin{DoxyCompactList}\small\item\em Waits for the next vsync with interrupts. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{video_8c_a69b4a42eedac9c01315883ca349ad3a6}{video\+\_\+wait\+\_\+vsync\+\_\+int}} ()
\begin{DoxyCompactList}\small\item\em Waits for the next vsync without interrupts. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{video_8c_ad82986c155e5a324254c8447670a71a7}{video\+\_\+set\+\_\+retrace\+\_\+callback}} (\mbox{\hyperlink{video_8h_a851275ee0afabfab5612287edc8838c1}{video\+\_\+retrace\+\_\+callback\+\_\+t}} callback)
\begin{DoxyCompactList}\small\item\em Sets the retrace callback. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Manages the video output of the system. 

Interacts and initializes the video interface. Has functions for working with VSync, creating and using framebuffers.

\begin{DoxyAuthor}{Author}
Samuel Fitzsimons (rainbain) 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2025 @license MIT (see LICENSE file) 
\end{DoxyDate}


\doxysubsection{Macro Definition Documentation}
\Hypertarget{video_8c_a58131db876dd57adf6fb2c760306ba70}\index{video.c@{video.c}!VI\_DCR\_FORMAT@{VI\_DCR\_FORMAT}}
\index{VI\_DCR\_FORMAT@{VI\_DCR\_FORMAT}!video.c@{video.c}}
\doxysubsubsection{\texorpdfstring{VI\_DCR\_FORMAT}{VI\_DCR\_FORMAT}}
{\footnotesize\ttfamily \label{video_8c_a58131db876dd57adf6fb2c760306ba70} 
\#define VI\+\_\+\+DCR\+\_\+\+FORMAT(\begin{DoxyParamCaption}\item[{}]{x}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{(((x)\ \&\ 0b11)\ <<\ 8)}

\end{DoxyCode}
\Hypertarget{video_8c_a715dd69473fc853cca96b99dcb28477f}\index{video.c@{video.c}!VI\_DCR\_LATCH\_0@{VI\_DCR\_LATCH\_0}}
\index{VI\_DCR\_LATCH\_0@{VI\_DCR\_LATCH\_0}!video.c@{video.c}}
\doxysubsubsection{\texorpdfstring{VI\_DCR\_LATCH\_0}{VI\_DCR\_LATCH\_0}}
{\footnotesize\ttfamily \label{video_8c_a715dd69473fc853cca96b99dcb28477f} 
\#define VI\+\_\+\+DCR\+\_\+\+LATCH\+\_\+0(\begin{DoxyParamCaption}\item[{}]{x}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{(((x)\ \&\ 0b11)\ <<\ 4)}

\end{DoxyCode}
\Hypertarget{video_8c_a05fe8750dd43904a824d5ee943e53498}\index{video.c@{video.c}!VI\_DCR\_LATCH\_1@{VI\_DCR\_LATCH\_1}}
\index{VI\_DCR\_LATCH\_1@{VI\_DCR\_LATCH\_1}!video.c@{video.c}}
\doxysubsubsection{\texorpdfstring{VI\_DCR\_LATCH\_1}{VI\_DCR\_LATCH\_1}}
{\footnotesize\ttfamily \label{video_8c_a05fe8750dd43904a824d5ee943e53498} 
\#define VI\+\_\+\+DCR\+\_\+\+LATCH\+\_\+1(\begin{DoxyParamCaption}\item[{}]{x}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{(((x)\ \&\ 0b11)\ <<\ 6)}

\end{DoxyCode}


\doxysubsection{Function Documentation}
\Hypertarget{video_8c_ab24210d5efc5afab4b85de98e10eaed2}\index{video.c@{video.c}!video\_get\_framebuffer@{video\_get\_framebuffer}}
\index{video\_get\_framebuffer@{video\_get\_framebuffer}!video.c@{video.c}}
\doxysubsubsection{\texorpdfstring{video\_get\_framebuffer()}{video\_get\_framebuffer()}}
{\footnotesize\ttfamily \label{video_8c_ab24210d5efc5afab4b85de98e10eaed2} 
\mbox{\hyperlink{structframebuffer__t}{framebuffer\+\_\+t}} \texorpdfstring{$\ast$}{*} video\+\_\+get\+\_\+framebuffer (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Gets the frame buffer currently displayed. 

Gets the frame buffer currently displayed. Can be used for some interesting functionality. \Hypertarget{video_8c_a9a0aec380b964a99d0e1104e191b759f}\index{video.c@{video.c}!video\_get\_profile@{video\_get\_profile}}
\index{video\_get\_profile@{video\_get\_profile}!video.c@{video.c}}
\doxysubsubsection{\texorpdfstring{video\_get\_profile()}{video\_get\_profile()}}
{\footnotesize\ttfamily \label{video_8c_a9a0aec380b964a99d0e1104e191b759f} 
const \mbox{\hyperlink{structvideo__profile__t}{video\+\_\+profile\+\_\+t}} \texorpdfstring{$\ast$}{*} video\+\_\+get\+\_\+profile (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{video_8h_a5dcb31caf97086512398a3cd6bcfdc2f}{video\+\_\+mode\+\_\+t}}}]{mode}{}\end{DoxyParamCaption})}



Gets a video profile from a video mode. 

Get a video profile from a video mode. 
\begin{DoxyParams}{Parameters}
{\em profile} & Mode to set into. \\
\hline
\end{DoxyParams}
\Hypertarget{video_8c_a40efe144f286abf18f2b6b53deef2252}\index{video.c@{video.c}!video\_initialize@{video\_initialize}}
\index{video\_initialize@{video\_initialize}!video.c@{video.c}}
\doxysubsubsection{\texorpdfstring{video\_initialize()}{video\_initialize()}}
{\footnotesize\ttfamily \label{video_8c_a40efe144f286abf18f2b6b53deef2252} 
void video\+\_\+initialize (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{video_8h_a5dcb31caf97086512398a3cd6bcfdc2f}{video\+\_\+mode\+\_\+t}}}]{mode}{}\end{DoxyParamCaption})}



Initializes the video output. 

Initializes the video interface with a given video mode. 
\begin{DoxyParams}{Parameters}
{\em mode} & Mode for the video interface. \\
\hline
\end{DoxyParams}
\Hypertarget{video_8c_a54e41000669c8748987ef3a6756fffbc}\index{video.c@{video.c}!video\_set\_framebuffer@{video\_set\_framebuffer}}
\index{video\_set\_framebuffer@{video\_set\_framebuffer}!video.c@{video.c}}
\doxysubsubsection{\texorpdfstring{video\_set\_framebuffer()}{video\_set\_framebuffer()}}
{\footnotesize\ttfamily \label{video_8c_a54e41000669c8748987ef3a6756fffbc} 
void video\+\_\+set\+\_\+framebuffer (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structframebuffer__t}{framebuffer\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{framebuffer}{}\end{DoxyParamCaption})}



Sets the frame buffer presented to the screen. 

Sets the frame buffer presented to the screen.


\begin{DoxyParams}{Parameters}
{\em framebuffer} & Framebuffer to put to the screen. \\
\hline
\end{DoxyParams}
\Hypertarget{video_8c_ad82986c155e5a324254c8447670a71a7}\index{video.c@{video.c}!video\_set\_retrace\_callback@{video\_set\_retrace\_callback}}
\index{video\_set\_retrace\_callback@{video\_set\_retrace\_callback}!video.c@{video.c}}
\doxysubsubsection{\texorpdfstring{video\_set\_retrace\_callback()}{video\_set\_retrace\_callback()}}
{\footnotesize\ttfamily \label{video_8c_ad82986c155e5a324254c8447670a71a7} 
void video\+\_\+set\+\_\+retrace\+\_\+callback (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{video_8h_a851275ee0afabfab5612287edc8838c1}{video\+\_\+retrace\+\_\+callback\+\_\+t}}}]{callback}{}\end{DoxyParamCaption})}



Sets the retrace callback. 

This is called from the interrupt handler for the retrace from the video interface. Make sure to handle code coming from an interrupter appropriately.


\begin{DoxyParams}{Parameters}
{\em callback} & Function pointer to call on retrace. \\
\hline
\end{DoxyParams}
\Hypertarget{video_8c_ade18e311a9e5a5d7d9649814106dd5e9}\index{video.c@{video.c}!video\_system\_default\_video\_mode@{video\_system\_default\_video\_mode}}
\index{video\_system\_default\_video\_mode@{video\_system\_default\_video\_mode}!video.c@{video.c}}
\doxysubsubsection{\texorpdfstring{video\_system\_default\_video\_mode()}{video\_system\_default\_video\_mode()}}
{\footnotesize\ttfamily \label{video_8c_ade18e311a9e5a5d7d9649814106dd5e9} 
\mbox{\hyperlink{video_8h_a5dcb31caf97086512398a3cd6bcfdc2f}{video\+\_\+mode\+\_\+t}} video\+\_\+system\+\_\+default\+\_\+video\+\_\+mode (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Gets the video mode of the console. 

Looks at the system settings to get the system video mode.

Must be called AFTER ios\+\_\+initialize.

This function is unfinished. I need dumps of the other video modes. \begin{DoxyReturn}{Returns}
Default video mode. 
\end{DoxyReturn}
\Hypertarget{video_8c_a12f17a1add49d94ad98ce8b6de9d6a9f}\index{video.c@{video.c}!video\_wait\_vsync@{video\_wait\_vsync}}
\index{video\_wait\_vsync@{video\_wait\_vsync}!video.c@{video.c}}
\doxysubsubsection{\texorpdfstring{video\_wait\_vsync()}{video\_wait\_vsync()}}
{\footnotesize\ttfamily \label{video_8c_a12f17a1add49d94ad98ce8b6de9d6a9f} 
void video\+\_\+wait\+\_\+vsync (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Waits for the next vsync with interrupts. 

Waits for the next vsync, waits for the next display interrupt to measure when the display goes into retrace. \Hypertarget{video_8c_a69b4a42eedac9c01315883ca349ad3a6}\index{video.c@{video.c}!video\_wait\_vsync\_int@{video\_wait\_vsync\_int}}
\index{video\_wait\_vsync\_int@{video\_wait\_vsync\_int}!video.c@{video.c}}
\doxysubsubsection{\texorpdfstring{video\_wait\_vsync\_int()}{video\_wait\_vsync\_int()}}
{\footnotesize\ttfamily \label{video_8c_a69b4a42eedac9c01315883ca349ad3a6} 
void video\+\_\+wait\+\_\+vsync\+\_\+int (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Waits for the next vsync without interrupts. 

Waits for the next vsync, in a interrupt handler safe way. It does by just waiting till the vertical position is in range.

This function seems to have some issues, make sure it actually works. May or may not be an emulator thing. 