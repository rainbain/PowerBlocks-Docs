\doxysection{syscall.\+h}
\hypertarget{syscall_8h_source}{}\label{syscall_8h_source}\index{powerblocks/core/system/syscall.h@{powerblocks/core/system/syscall.h}}
\mbox{\hyperlink{syscall_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{exceptions_8h}{powerblocks/core/system/exceptions.h}}"{}}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ <stdint.h>}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00033\ \textcolor{keyword}{typedef}\ uint32\_t\ (*\mbox{\hyperlink{syscall_8h_a91ab47f1097922804681aca8137a4024}{syscall\_handler\_t}})(\mbox{\hyperlink{structexception__context__t}{exception\_context\_t}}*\ context,\ uint32\_t\ arg1,\ uint32\_t\ arg2,\ uint32\_t\ arg3);}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \textcolor{preprocessor}{\#define\ SYSCALL\_ID\_YIELD\ \ \ \ \ \ \ \ \ 0}}
\DoxyCodeLine{00036\ \textcolor{preprocessor}{\#define\ SYSCALL\_ID\_ASSERT\ \ \ \ \ \ \ \ 1}}
\DoxyCodeLine{00037\ \textcolor{preprocessor}{\#define\ SYSCALL\_ID\_OUT\_OF\_MEMORY\ 2}}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\#define\ SYSCALL\_REGISTRY\_SIZE\ 2}}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \textcolor{keyword}{extern}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{syscall_8h_a91ab47f1097922804681aca8137a4024}{syscall\_handler\_t}}\ syscall\_registry[SYSCALL\_REGISTRY\_SIZE];}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00049\ \textcolor{preprocessor}{\#define\ SYSCALL(num,\ arg1,\ arg2,\ arg3)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00050\ \textcolor{preprocessor}{(\{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00051\ \textcolor{preprocessor}{\ \ \ \ register\ uint32\_t\ r0\ \_\_asm\_\_("{}r0"{})\ =\ (num);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00052\ \textcolor{preprocessor}{\ \ \ \ register\ uint32\_t\ r3\ \_\_asm\_\_("{}r3"{})\ =\ (uint32\_t)(arg1);\ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00053\ \textcolor{preprocessor}{\ \ \ \ register\ uint32\_t\ r4\ \_\_asm\_\_("{}r4"{})\ =\ (uint32\_t)(arg2);\ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00054\ \textcolor{preprocessor}{\ \ \ \ register\ uint32\_t\ r5\ \_\_asm\_\_("{}r5"{})\ =\ (uint32\_t)(arg3);\ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00055\ \textcolor{preprocessor}{\ \ \ \ \_\_asm\_\_\ volatile\ (\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00056\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ "{}sc\(\backslash\)n\(\backslash\)t"{}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00057\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ :\ "{}+r"{}\ (r3)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00058\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ :\ "{}r"{}\ (r0),\ "{}r"{}\ (r4),\ "{}r"{}\ (r5)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00059\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ :\ "{}cr0"{},\ "{}memory"{}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00060\ \textcolor{preprocessor}{\ \ \ \ );\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00061\ \textcolor{preprocessor}{\ \ \ \ r3;\ }\textcolor{comment}{/*\ return\ value\ in\ r3\ */}\textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00062\ \textcolor{preprocessor}{\});}}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00070\ \textcolor{preprocessor}{\#define\ SYSCALL\_YIELD()\ SYSCALL(SYSCALL\_ID\_YIELD,\ 0,\ 0,\ 0)}}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00077\ \textcolor{preprocessor}{\#define\ SYSCALL\_ASSERT(error\_name,\ line,\ file)\ SYSCALL(SYSCALL\_ID\_ASSERT,\ error\_name,\ line,\ file)}}

\end{DoxyCode}
