\doxysection{powerblocks/core/ios/ios.c File Reference}
\hypertarget{ios_8c}{}\label{ios_8c}\index{powerblocks/core/ios/ios.c@{powerblocks/core/ios/ios.c}}


Input Output System.  


{\ttfamily \#include "{}ios.\+h"{}}\newline
{\ttfamily \#include "{}system/system.\+h"{}}\newline
{\ttfamily \#include "{}system/ipc.\+h"{}}\newline
{\ttfamily \#include "{}ios\+\_\+settings.\+h"{}}\newline
{\ttfamily \#include "{}Free\+RTOS.\+h"{}}\newline
{\ttfamily \#include "{}semphr.\+h"{}}\newline
{\ttfamily \#include $<$stdalign.\+h$>$}\newline
{\ttfamily \#include $<$stddef.\+h$>$}\newline
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structios__waiter__alert__args}{ios\+\_\+waiter\+\_\+alert\+\_\+args}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{ios_8c_aec31dc51420a483eee926fc5645be44a}\label{ios_8c_aec31dc51420a483eee926fc5645be44a} 
\#define {\bfseries IOS\+\_\+\+COMMAND\+\_\+\+OPEN}~1
\item 
\Hypertarget{ios_8c_af221c21ab0bdbd1f7fba319d2feabb0b}\label{ios_8c_af221c21ab0bdbd1f7fba319d2feabb0b} 
\#define {\bfseries IOS\+\_\+\+COMMAND\+\_\+\+CLOSE}~2
\item 
\Hypertarget{ios_8c_a3f2674e6c257c573b2bff1a6505680b0}\label{ios_8c_a3f2674e6c257c573b2bff1a6505680b0} 
\#define {\bfseries IOS\+\_\+\+COMMAND\+\_\+\+READ}~3
\item 
\Hypertarget{ios_8c_a2f9330990637a31d1f82d4cda1bf2161}\label{ios_8c_a2f9330990637a31d1f82d4cda1bf2161} 
\#define {\bfseries IOS\+\_\+\+COMMAND\+\_\+\+WRITE}~4
\item 
\Hypertarget{ios_8c_a7ebf5f16348a0981a624c36f3a766805}\label{ios_8c_a7ebf5f16348a0981a624c36f3a766805} 
\#define {\bfseries IOS\+\_\+\+COMMAND\+\_\+\+SEEK}~5
\item 
\Hypertarget{ios_8c_a86d46a135a79c6d2c253d0cef1a3675e}\label{ios_8c_a86d46a135a79c6d2c253d0cef1a3675e} 
\#define {\bfseries IOS\+\_\+\+COMMAND\+\_\+\+IOCTL}~6
\item 
\Hypertarget{ios_8c_a7340ae1c0e1e43029aa0872ceece3018}\label{ios_8c_a7340ae1c0e1e43029aa0872ceece3018} 
\#define {\bfseries IOS\+\_\+\+COMMAND\+\_\+\+IOCTLV}~7
\item 
\Hypertarget{ios_8c_abd9e785bb16a719855d970e164b0faf2}\label{ios_8c_abd9e785bb16a719855d970e164b0faf2} 
\#define {\bfseries IOS\+\_\+\+COMMAND\+\_\+\+ASYNC}~8
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{ios_8c_abb6e7cef78b5d9b325b303db31a4bd58}{ios\+\_\+initialize}} ()
\begin{DoxyCompactList}\small\item\em TODO\+: Explore and properly document what needs alignment and what does not. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{ios_8c_a324b9dd142d798907aafca35aa19ea07}{ios\+\_\+open}} (const char \texorpdfstring{$\ast$}{*}path, int mode)
\begin{DoxyCompactList}\small\item\em Opens a file on IOS. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{ios_8c_a936b5d7775352bed956b0ea61153e341}{ios\+\_\+close}} (int file\+\_\+handle)
\begin{DoxyCompactList}\small\item\em Closes a file on IOS. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{ios_8c_a15e129cfa69945c4a6fb12342c665965}{ios\+\_\+read}} (int file\+\_\+handle, void \texorpdfstring{$\ast$}{*}buffer, int size)
\begin{DoxyCompactList}\small\item\em Read from a file. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{ios_8c_a13b18911a7554bacaa09ba4bd5c331f3}{ios\+\_\+write}} (int file\+\_\+handle, void \texorpdfstring{$\ast$}{*}buffer, int size)
\begin{DoxyCompactList}\small\item\em Write to a file. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{ios_8c_a340aac2322669022f1da4c860b3223e0}{ios\+\_\+seek}} (int file\+\_\+handle, int where, int whence)
\begin{DoxyCompactList}\small\item\em Seek to a position in a file. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{ios_8c_a8fed81cd917a31d8739930aec16d5c2c}{ios\+\_\+ioctl}} (int file\+\_\+handle, int ioctl, void \texorpdfstring{$\ast$}{*}buffer\+\_\+in, int in\+\_\+size, void \texorpdfstring{$\ast$}{*}buffer\+\_\+io, int io\+\_\+size)
\begin{DoxyCompactList}\small\item\em Send control commands to a device. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{ios_8c_a6ea86d2130854457e973f4cd1fef234e}{ios\+\_\+ioctlv}} (int file\+\_\+handle, int ioctl, int in\+\_\+size, int io\+\_\+size, \mbox{\hyperlink{structios__ioctlv__t}{ios\+\_\+ioctlv\+\_\+t}} \texorpdfstring{$\ast$}{*}argv)
\begin{DoxyCompactList}\small\item\em Send multiple IO ctrl buffers. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{ios_8c_a89268f2259dca73a97f00d869a8d510d}{ios\+\_\+open\+\_\+async}} (const char \texorpdfstring{$\ast$}{*}path, int mode, \mbox{\hyperlink{structipc__message}{ipc\+\_\+message}} \texorpdfstring{$\ast$}{*}message, ipc\+\_\+async\+\_\+handler\+\_\+t handler, void \texorpdfstring{$\ast$}{*}params)
\begin{DoxyCompactList}\small\item\em Opens a file on IOS with callback with async. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{ios_8c_a8d6dfc73a3bdcf276da8e5d72c439435}{ios\+\_\+close\+\_\+async}} (int file\+\_\+handle, \mbox{\hyperlink{structipc__message}{ipc\+\_\+message}} \texorpdfstring{$\ast$}{*}message, ipc\+\_\+async\+\_\+handler\+\_\+t handler, void \texorpdfstring{$\ast$}{*}params)
\begin{DoxyCompactList}\small\item\em Closes a file on IOS with async. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{ios_8c_ad4988746da286197af623adc606970df}{ios\+\_\+read\+\_\+async}} (int file\+\_\+handle, void \texorpdfstring{$\ast$}{*}buffer, int size, \mbox{\hyperlink{structipc__message}{ipc\+\_\+message}} \texorpdfstring{$\ast$}{*}message, ipc\+\_\+async\+\_\+handler\+\_\+t handler, void \texorpdfstring{$\ast$}{*}params)
\begin{DoxyCompactList}\small\item\em Read from a file with async. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{ios_8c_ab0aa5edc0614ff4af955ec1d22e56eab}{ios\+\_\+write\+\_\+async}} (int file\+\_\+handle, void \texorpdfstring{$\ast$}{*}buffer, int size, \mbox{\hyperlink{structipc__message}{ipc\+\_\+message}} \texorpdfstring{$\ast$}{*}message, ipc\+\_\+async\+\_\+handler\+\_\+t handler, void \texorpdfstring{$\ast$}{*}params)
\begin{DoxyCompactList}\small\item\em Write to a file with async. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{ios_8c_aec79c024e778f440aec8dbd9955f785a}{ios\+\_\+seek\+\_\+async}} (int file\+\_\+handle, int where, int whence, \mbox{\hyperlink{structipc__message}{ipc\+\_\+message}} \texorpdfstring{$\ast$}{*}message, ipc\+\_\+async\+\_\+handler\+\_\+t handler, void \texorpdfstring{$\ast$}{*}params)
\begin{DoxyCompactList}\small\item\em Seek to a position in a file with async. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{ios_8c_a3b024fd02c3f84fcdb9b4bc86c3711ab}{ios\+\_\+ioctl\+\_\+async}} (int file\+\_\+handle, int ioctl, void \texorpdfstring{$\ast$}{*}buffer\+\_\+in, int in\+\_\+size, void \texorpdfstring{$\ast$}{*}buffer\+\_\+io, int io\+\_\+size, \mbox{\hyperlink{structipc__message}{ipc\+\_\+message}} \texorpdfstring{$\ast$}{*}message, ipc\+\_\+async\+\_\+handler\+\_\+t handler, void \texorpdfstring{$\ast$}{*}params)
\begin{DoxyCompactList}\small\item\em Send control commands to a device with async. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{ios_8c_add75a91c2eaaad2d395c3e1b6e121356}{ios\+\_\+ioctlv\+\_\+async}} (int file\+\_\+handle, int ioctl, int in\+\_\+size, int io\+\_\+size, \mbox{\hyperlink{structios__ioctlv__t}{ios\+\_\+ioctlv\+\_\+t}} \texorpdfstring{$\ast$}{*}argv, \mbox{\hyperlink{structipc__message}{ipc\+\_\+message}} \texorpdfstring{$\ast$}{*}message, \mbox{\hyperlink{structios__ioctlv__t}{ios\+\_\+ioctlv\+\_\+t}} \texorpdfstring{$\ast$}{*}args\+\_\+buffer, ipc\+\_\+async\+\_\+handler\+\_\+t handler, void \texorpdfstring{$\ast$}{*}params)
\begin{DoxyCompactList}\small\item\em Send multiple IO ctrl buffers with async. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Input Output System. 

IOS uses the IPC between broadway and starlet to command starlet to interact with some IO.

This includes things like the SD card and wiimotes. All through starlet\textquotesingle{}s unix like file system for device modules.

\begin{DoxyAuthor}{Author}
Samuel Fitzsimons (rainbain) 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2025 @license MIT (see LICENSE file) 
\end{DoxyDate}


\doxysubsection{Function Documentation}
\Hypertarget{ios_8c_a936b5d7775352bed956b0ea61153e341}\index{ios.c@{ios.c}!ios\_close@{ios\_close}}
\index{ios\_close@{ios\_close}!ios.c@{ios.c}}
\doxysubsubsection{\texorpdfstring{ios\_close()}{ios\_close()}}
{\footnotesize\ttfamily \label{ios_8c_a936b5d7775352bed956b0ea61153e341} 
int ios\+\_\+close (\begin{DoxyParamCaption}\item[{int}]{file\+\_\+handle}{}\end{DoxyParamCaption})}



Closes a file on IOS. 

Closes a file descriptor made with ios\+\_\+open.


\begin{DoxyParams}{Parameters}
{\em file\+\_\+handle} & File handle to close \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Negative if error. 
\end{DoxyReturn}
\Hypertarget{ios_8c_a8d6dfc73a3bdcf276da8e5d72c439435}\index{ios.c@{ios.c}!ios\_close\_async@{ios\_close\_async}}
\index{ios\_close\_async@{ios\_close\_async}!ios.c@{ios.c}}
\doxysubsubsection{\texorpdfstring{ios\_close\_async()}{ios\_close\_async()}}
{\footnotesize\ttfamily \label{ios_8c_a8d6dfc73a3bdcf276da8e5d72c439435} 
int ios\+\_\+close\+\_\+async (\begin{DoxyParamCaption}\item[{int}]{file\+\_\+handle}{, }\item[{\mbox{\hyperlink{structipc__message}{ipc\+\_\+message}} \texorpdfstring{$\ast$}{*}}]{message}{, }\item[{ipc\+\_\+async\+\_\+handler\+\_\+t}]{handler}{, }\item[{void \texorpdfstring{$\ast$}{*}}]{params}{}\end{DoxyParamCaption})}



Closes a file on IOS with async. 

Closes a file descriptor made with ios\+\_\+open. The callback is called upon compilation from the ISR. Do not take too long from the ISR!


\begin{DoxyParams}{Parameters}
{\em file\+\_\+handle} & File handle to close \\
\hline
{\em message} & Buffer to store the ipc message in. \\
\hline
{\em handler} & Handler called from interrupt service upon compilation. \\
\hline
{\em params} & Pointer passed to the handler. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Negative if error. 
\end{DoxyReturn}
\Hypertarget{ios_8c_abb6e7cef78b5d9b325b303db31a4bd58}\index{ios.c@{ios.c}!ios\_initialize@{ios\_initialize}}
\index{ios\_initialize@{ios\_initialize}!ios.c@{ios.c}}
\doxysubsubsection{\texorpdfstring{ios\_initialize()}{ios\_initialize()}}
{\footnotesize\ttfamily \label{ios_8c_abb6e7cef78b5d9b325b303db31a4bd58} 
void ios\+\_\+initialize (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



TODO\+: Explore and properly document what needs alignment and what does not. 

Initializes IOS.

Initializes IOS including the IPC. \Hypertarget{ios_8c_a8fed81cd917a31d8739930aec16d5c2c}\index{ios.c@{ios.c}!ios\_ioctl@{ios\_ioctl}}
\index{ios\_ioctl@{ios\_ioctl}!ios.c@{ios.c}}
\doxysubsubsection{\texorpdfstring{ios\_ioctl()}{ios\_ioctl()}}
{\footnotesize\ttfamily \label{ios_8c_a8fed81cd917a31d8739930aec16d5c2c} 
int ios\+\_\+ioctl (\begin{DoxyParamCaption}\item[{int}]{file\+\_\+handle}{, }\item[{int}]{ioctl}{, }\item[{void \texorpdfstring{$\ast$}{*}}]{buffer\+\_\+in}{, }\item[{int}]{in\+\_\+size}{, }\item[{void \texorpdfstring{$\ast$}{*}}]{buffer\+\_\+io}{, }\item[{int}]{io\+\_\+size}{}\end{DoxyParamCaption})}



Send control commands to a device. 

Send control commands to a device.


\begin{DoxyParams}{Parameters}
{\em ioctl} & I/O Command Enum \\
\hline
{\em buffer\+\_\+in} & Input data to command \\
\hline
{\em in\+\_\+size} & Size of data coming in \\
\hline
{\em buffer\+\_\+io} & Output data of command \\
\hline
{\em io\+\_\+size} & Size of output data \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Negative if error. 
\end{DoxyReturn}
\Hypertarget{ios_8c_a3b024fd02c3f84fcdb9b4bc86c3711ab}\index{ios.c@{ios.c}!ios\_ioctl\_async@{ios\_ioctl\_async}}
\index{ios\_ioctl\_async@{ios\_ioctl\_async}!ios.c@{ios.c}}
\doxysubsubsection{\texorpdfstring{ios\_ioctl\_async()}{ios\_ioctl\_async()}}
{\footnotesize\ttfamily \label{ios_8c_a3b024fd02c3f84fcdb9b4bc86c3711ab} 
int ios\+\_\+ioctl\+\_\+async (\begin{DoxyParamCaption}\item[{int}]{file\+\_\+handle}{, }\item[{int}]{ioctl}{, }\item[{void \texorpdfstring{$\ast$}{*}}]{buffer\+\_\+in}{, }\item[{int}]{in\+\_\+size}{, }\item[{void \texorpdfstring{$\ast$}{*}}]{buffer\+\_\+io}{, }\item[{int}]{io\+\_\+size}{, }\item[{\mbox{\hyperlink{structipc__message}{ipc\+\_\+message}} \texorpdfstring{$\ast$}{*}}]{message}{, }\item[{ipc\+\_\+async\+\_\+handler\+\_\+t}]{handler}{, }\item[{void \texorpdfstring{$\ast$}{*}}]{params}{}\end{DoxyParamCaption})}



Send control commands to a device with async. 

Send control commands to a device. The callback is called upon compilation from the ISR. Do not take too long from the ISR!


\begin{DoxyParams}{Parameters}
{\em ioctl} & I/O Command Enum \\
\hline
{\em buffer\+\_\+in} & Input data to command \\
\hline
{\em in\+\_\+size} & Size of data coming in \\
\hline
{\em buffer\+\_\+io} & Output data of command \\
\hline
{\em io\+\_\+size} & Size of output data \\
\hline
{\em message} & Buffer to store the ipc message in. \\
\hline
{\em handler} & Handler called from interrupt service upon compilation. \\
\hline
{\em params} & Pointer passed to the handler. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Negative if error. 
\end{DoxyReturn}
\Hypertarget{ios_8c_a6ea86d2130854457e973f4cd1fef234e}\index{ios.c@{ios.c}!ios\_ioctlv@{ios\_ioctlv}}
\index{ios\_ioctlv@{ios\_ioctlv}!ios.c@{ios.c}}
\doxysubsubsection{\texorpdfstring{ios\_ioctlv()}{ios\_ioctlv()}}
{\footnotesize\ttfamily \label{ios_8c_a6ea86d2130854457e973f4cd1fef234e} 
int ios\+\_\+ioctlv (\begin{DoxyParamCaption}\item[{int}]{file\+\_\+handle}{, }\item[{int}]{ioctl}{, }\item[{int}]{in\+\_\+size}{, }\item[{int}]{io\+\_\+size}{, }\item[{\mbox{\hyperlink{structios__ioctlv__t}{ios\+\_\+ioctlv\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{argv}{}\end{DoxyParamCaption})}



Send multiple IO ctrl buffers. 

Send multiple IO ctrl buffers.

The vector array itself does not need alignment since this function makes its own copy of the vector table when converting the addresses to physical.


\begin{DoxyParams}{Parameters}
{\em ioctl} & I/O Command Enum \\
\hline
{\em buffer\+\_\+in} & Input data to command \\
\hline
{\em in\+\_\+size} & Size of data coming in \\
\hline
{\em buffer\+\_\+io} & Output data of command \\
\hline
{\em io\+\_\+size} & Size of output data \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Negative if error. 
\end{DoxyReturn}
\Hypertarget{ios_8c_add75a91c2eaaad2d395c3e1b6e121356}\index{ios.c@{ios.c}!ios\_ioctlv\_async@{ios\_ioctlv\_async}}
\index{ios\_ioctlv\_async@{ios\_ioctlv\_async}!ios.c@{ios.c}}
\doxysubsubsection{\texorpdfstring{ios\_ioctlv\_async()}{ios\_ioctlv\_async()}}
{\footnotesize\ttfamily \label{ios_8c_add75a91c2eaaad2d395c3e1b6e121356} 
int ios\+\_\+ioctlv\+\_\+async (\begin{DoxyParamCaption}\item[{int}]{file\+\_\+handle}{, }\item[{int}]{ioctl}{, }\item[{int}]{in\+\_\+size}{, }\item[{int}]{io\+\_\+size}{, }\item[{\mbox{\hyperlink{structios__ioctlv__t}{ios\+\_\+ioctlv\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{args}{, }\item[{\mbox{\hyperlink{structipc__message}{ipc\+\_\+message}} \texorpdfstring{$\ast$}{*}}]{message}{, }\item[{\mbox{\hyperlink{structios__ioctlv__t}{ios\+\_\+ioctlv\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{args\+\_\+buffer}{, }\item[{ipc\+\_\+async\+\_\+handler\+\_\+t}]{handler}{, }\item[{void \texorpdfstring{$\ast$}{*}}]{params}{}\end{DoxyParamCaption})}



Send multiple IO ctrl buffers with async. 

Send multiple IO ctrl buffers.

The vector array itself does not need alignment since this function makes its own copy of the vector table when converting the addresses to physical.

The callback is called upon compilation from the ISR. Do not take too long from the ISR!


\begin{DoxyParams}{Parameters}
{\em ioctl} & I/O Command Enum \\
\hline
{\em buffer\+\_\+in} & Input data to command \\
\hline
{\em in\+\_\+size} & Size of data coming in \\
\hline
{\em buffer\+\_\+io} & Output data of command \\
\hline
{\em io\+\_\+size} & Size of output data \\
\hline
{\em argv} & Vector of arguments. \\
\hline
{\em message} & Buffer to store the ipc message in. \\
\hline
{\em argv\+\_\+buffer} & Buffer to store the hardware argv list in. \\
\hline
{\em handler} & Handler called from interrupt service upon compilation. \\
\hline
{\em params} & Pointer passed to the handler. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Negative if error. 
\end{DoxyReturn}
\Hypertarget{ios_8c_a324b9dd142d798907aafca35aa19ea07}\index{ios.c@{ios.c}!ios\_open@{ios\_open}}
\index{ios\_open@{ios\_open}!ios.c@{ios.c}}
\doxysubsubsection{\texorpdfstring{ios\_open()}{ios\_open()}}
{\footnotesize\ttfamily \label{ios_8c_a324b9dd142d798907aafca35aa19ea07} 
int ios\+\_\+open (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{path}{, }\item[{int}]{mode}{}\end{DoxyParamCaption})}



Opens a file on IOS. 

Opens a file from IOS\textquotesingle{}s unix-\/like file system.


\begin{DoxyParams}{Parameters}
{\em path} & File path to the file to open \\
\hline
{\em mode} & File mode to open with. IOS\+\_\+\+MODE\+\_\+\+READ or IOS\+\_\+\+MODE\+\_\+\+WRITE. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns the file handle. Negative if error. 
\end{DoxyReturn}
\Hypertarget{ios_8c_a89268f2259dca73a97f00d869a8d510d}\index{ios.c@{ios.c}!ios\_open\_async@{ios\_open\_async}}
\index{ios\_open\_async@{ios\_open\_async}!ios.c@{ios.c}}
\doxysubsubsection{\texorpdfstring{ios\_open\_async()}{ios\_open\_async()}}
{\footnotesize\ttfamily \label{ios_8c_a89268f2259dca73a97f00d869a8d510d} 
int ios\+\_\+open\+\_\+async (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{path}{, }\item[{int}]{mode}{, }\item[{\mbox{\hyperlink{structipc__message}{ipc\+\_\+message}} \texorpdfstring{$\ast$}{*}}]{message}{, }\item[{ipc\+\_\+async\+\_\+handler\+\_\+t}]{handler}{, }\item[{void \texorpdfstring{$\ast$}{*}}]{params}{}\end{DoxyParamCaption})}



Opens a file on IOS with callback with async. 

Opens a file from IOS\textquotesingle{}s unix-\/like file system. The callback is called upon compilation from the ISR. Do not take too long from the ISR!


\begin{DoxyParams}{Parameters}
{\em path} & File path to the file to open \\
\hline
{\em mode} & File mode to open with. IOS\+\_\+\+MODE\+\_\+\+READ or IOS\+\_\+\+MODE\+\_\+\+WRITE. \\
\hline
{\em message} & Buffer to store the ipc message in. \\
\hline
{\em handler} & Handler called from interrupt service upon compilation. \\
\hline
{\em params} & Pointer passed to the handler. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns the file handle. Negative if error. 
\end{DoxyReturn}
\Hypertarget{ios_8c_a15e129cfa69945c4a6fb12342c665965}\index{ios.c@{ios.c}!ios\_read@{ios\_read}}
\index{ios\_read@{ios\_read}!ios.c@{ios.c}}
\doxysubsubsection{\texorpdfstring{ios\_read()}{ios\_read()}}
{\footnotesize\ttfamily \label{ios_8c_a15e129cfa69945c4a6fb12342c665965} 
int ios\+\_\+read (\begin{DoxyParamCaption}\item[{int}]{file\+\_\+handle}{, }\item[{void \texorpdfstring{$\ast$}{*}}]{buffer}{, }\item[{int}]{size}{}\end{DoxyParamCaption})}



Read from a file. 

Read from a file made with ios\+\_\+open.


\begin{DoxyParams}{Parameters}
{\em file\+\_\+handle} & File Handle \\
\hline
{\em buffer} & Buffer to read into \\
\hline
{\em size} & Number of bytes to read \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Negative if error. 
\end{DoxyReturn}
\Hypertarget{ios_8c_ad4988746da286197af623adc606970df}\index{ios.c@{ios.c}!ios\_read\_async@{ios\_read\_async}}
\index{ios\_read\_async@{ios\_read\_async}!ios.c@{ios.c}}
\doxysubsubsection{\texorpdfstring{ios\_read\_async()}{ios\_read\_async()}}
{\footnotesize\ttfamily \label{ios_8c_ad4988746da286197af623adc606970df} 
int ios\+\_\+read\+\_\+async (\begin{DoxyParamCaption}\item[{int}]{file\+\_\+handle}{, }\item[{void \texorpdfstring{$\ast$}{*}}]{buffer}{, }\item[{int}]{size}{, }\item[{\mbox{\hyperlink{structipc__message}{ipc\+\_\+message}} \texorpdfstring{$\ast$}{*}}]{message}{, }\item[{ipc\+\_\+async\+\_\+handler\+\_\+t}]{handler}{, }\item[{void \texorpdfstring{$\ast$}{*}}]{params}{}\end{DoxyParamCaption})}



Read from a file with async. 

Read from a file made with ios\+\_\+open. The callback is called upon compilation from the ISR. Do not take too long from the ISR!


\begin{DoxyParams}{Parameters}
{\em file\+\_\+handle} & File Handle \\
\hline
{\em buffer} & Buffer to read into \\
\hline
{\em size} & Number of bytes to read \\
\hline
{\em message} & Buffer to store the ipc message in. \\
\hline
{\em handler} & Handler called from interrupt service upon compilation. \\
\hline
{\em params} & Pointer passed to the handler. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Negative if error. 
\end{DoxyReturn}
\Hypertarget{ios_8c_a340aac2322669022f1da4c860b3223e0}\index{ios.c@{ios.c}!ios\_seek@{ios\_seek}}
\index{ios\_seek@{ios\_seek}!ios.c@{ios.c}}
\doxysubsubsection{\texorpdfstring{ios\_seek()}{ios\_seek()}}
{\footnotesize\ttfamily \label{ios_8c_a340aac2322669022f1da4c860b3223e0} 
int ios\+\_\+seek (\begin{DoxyParamCaption}\item[{int}]{file\+\_\+handle}{, }\item[{int}]{where}{, }\item[{int}]{whence}{}\end{DoxyParamCaption})}



Seek to a position in a file. 

Seek to a position in a file.


\begin{DoxyParams}{Parameters}
{\em file\+\_\+handle} & File Handle \\
\hline
{\em where} & How much to offset from a position \\
\hline
{\em whence} & Reference point enum for where in the file. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Negative if error. 
\end{DoxyReturn}
\Hypertarget{ios_8c_aec79c024e778f440aec8dbd9955f785a}\index{ios.c@{ios.c}!ios\_seek\_async@{ios\_seek\_async}}
\index{ios\_seek\_async@{ios\_seek\_async}!ios.c@{ios.c}}
\doxysubsubsection{\texorpdfstring{ios\_seek\_async()}{ios\_seek\_async()}}
{\footnotesize\ttfamily \label{ios_8c_aec79c024e778f440aec8dbd9955f785a} 
int ios\+\_\+seek\+\_\+async (\begin{DoxyParamCaption}\item[{int}]{file\+\_\+handle}{, }\item[{int}]{where}{, }\item[{int}]{whence}{, }\item[{\mbox{\hyperlink{structipc__message}{ipc\+\_\+message}} \texorpdfstring{$\ast$}{*}}]{message}{, }\item[{ipc\+\_\+async\+\_\+handler\+\_\+t}]{handler}{, }\item[{void \texorpdfstring{$\ast$}{*}}]{params}{}\end{DoxyParamCaption})}



Seek to a position in a file with async. 

Seek to a position in a file. The callback is called upon compilation from the ISR. Do not take too long from the ISR!


\begin{DoxyParams}{Parameters}
{\em file\+\_\+handle} & File Handle \\
\hline
{\em where} & How much to offset from a position \\
\hline
{\em whence} & Reference point enum for where in the file. \\
\hline
{\em message} & Buffer to store the ipc message in. \\
\hline
{\em handler} & Handler called from interrupt service upon compilation. \\
\hline
{\em params} & Pointer passed to the handler. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Negative if error. 
\end{DoxyReturn}
\Hypertarget{ios_8c_a13b18911a7554bacaa09ba4bd5c331f3}\index{ios.c@{ios.c}!ios\_write@{ios\_write}}
\index{ios\_write@{ios\_write}!ios.c@{ios.c}}
\doxysubsubsection{\texorpdfstring{ios\_write()}{ios\_write()}}
{\footnotesize\ttfamily \label{ios_8c_a13b18911a7554bacaa09ba4bd5c331f3} 
int ios\+\_\+write (\begin{DoxyParamCaption}\item[{int}]{file\+\_\+handle}{, }\item[{void \texorpdfstring{$\ast$}{*}}]{buffer}{, }\item[{int}]{size}{}\end{DoxyParamCaption})}



Write to a file. 

Write to a file made with ios\+\_\+open.


\begin{DoxyParams}{Parameters}
{\em file\+\_\+handle} & File Handle \\
\hline
{\em buffer} & Buffer with data to write \\
\hline
{\em size} & Number of bytes to write \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Negative if error. 
\end{DoxyReturn}
\Hypertarget{ios_8c_ab0aa5edc0614ff4af955ec1d22e56eab}\index{ios.c@{ios.c}!ios\_write\_async@{ios\_write\_async}}
\index{ios\_write\_async@{ios\_write\_async}!ios.c@{ios.c}}
\doxysubsubsection{\texorpdfstring{ios\_write\_async()}{ios\_write\_async()}}
{\footnotesize\ttfamily \label{ios_8c_ab0aa5edc0614ff4af955ec1d22e56eab} 
int ios\+\_\+write\+\_\+async (\begin{DoxyParamCaption}\item[{int}]{file\+\_\+handle}{, }\item[{void \texorpdfstring{$\ast$}{*}}]{buffer}{, }\item[{int}]{size}{, }\item[{\mbox{\hyperlink{structipc__message}{ipc\+\_\+message}} \texorpdfstring{$\ast$}{*}}]{message}{, }\item[{ipc\+\_\+async\+\_\+handler\+\_\+t}]{handler}{, }\item[{void \texorpdfstring{$\ast$}{*}}]{params}{}\end{DoxyParamCaption})}



Write to a file with async. 

Write to a file made with ios\+\_\+open. The callback is called upon compilation from the ISR. Do not take too long from the ISR!


\begin{DoxyParams}{Parameters}
{\em file\+\_\+handle} & File Handle \\
\hline
{\em buffer} & Buffer with data to write \\
\hline
{\em size} & Number of bytes to write \\
\hline
{\em message} & Buffer to store the ipc message in. \\
\hline
{\em handler} & Handler called from interrupt service upon compilation. \\
\hline
{\em params} & Pointer passed to the handler. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Negative if error. 
\end{DoxyReturn}
