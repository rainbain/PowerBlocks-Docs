\doxysection{bltootls.\+h}
\hypertarget{bltootls_8h_source}{}\label{bltootls_8h_source}\index{powerblocks/core/bluetooth/bltootls.h@{powerblocks/core/bluetooth/bltootls.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}FreeRTOS.h"{}}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ <stdbool.h>}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{hci_8h}{powerblocks/core/bluetooth/hci.h}}"{}}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{comment}{//\ Known\ Driver\ IDs\ part\ of\ PowerBlocks}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#define\ BLUETOOTH\_DRIVER\_ID\_INVALID\ 0}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#define\ BLUETOOTH\_DRIVER\_ID\_WIIMOTE\ 1}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\{}
\DoxyCodeLine{00026\ \ \ \ \ uint16\_t\ driver\_id;\ \textcolor{comment}{//\ Unique\ ID\ to\ the\ driver,\ that\ can\ be\ used\ to\ find\ it.}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{comment}{//\ Covered\ when\ a\ device\ appears\ to\ be\ discoverable,}}
\DoxyCodeLine{00029\ \ \ \ \ \textcolor{comment}{//\ This\ can\ be\ used\ to\ filter\ out\ discovered\ devices}}
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{comment}{//\ Return\ true\ if\ the\ device\ applys\ to\ this\ driver}}
\DoxyCodeLine{00031\ \ \ \ \ bool\ (*filter\_device)(\textcolor{keyword}{const}\ \mbox{\hyperlink{structhci__discovered__device__info__t}{hci\_discovered\_device\_info\_t}}*\ device,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ device\_name);}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{comment}{//\ Called\ once\ the\ filter\ passes,\ will\ attempt\ to\ add\ the\ device}}
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{comment}{//\ Return\ a\ non-\/null\ reference\ to\ the\ device\ if\ successful}}
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keywordtype}{void}*\ (*initialize\_device)(\textcolor{keyword}{const}\ \mbox{\hyperlink{structhci__discovered__device__info__t}{hci\_discovered\_device\_info\_t}}*\ device);}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{comment}{//\ Called\ when\ the\ device\ is\ disconnected.\ Free\ up\ the\ driver}}
\DoxyCodeLine{00038\ \ \ \ \ void\ (*free\_device)(\textcolor{keywordtype}{void}*\ instance);}
\DoxyCodeLine{00039\ \}\ \mbox{\hyperlink{structbluetooth__driver__t}{bluetooth\_driver\_t}};}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\{}
\DoxyCodeLine{00042\ \ \ \ \ uint16\_t\ driver\_id;}
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{keywordtype}{void}*\ instance;}
\DoxyCodeLine{00044\ \}\ \mbox{\hyperlink{structbluetooth__driver__instance__t}{bluetooth\_driver\_instance\_t}};}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00052\ \textcolor{keywordtype}{int}\ bltools\_initialize();}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00062\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ bltools\_register\_driver(\mbox{\hyperlink{structbluetooth__driver__t}{bluetooth\_driver\_t}}\ driver);}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00069\ \textcolor{keyword}{extern}\ \mbox{\hyperlink{structbluetooth__driver__t}{bluetooth\_driver\_t}}*\ bltoots\_find\_driver\_by\_id(uint16\_t\ driver\_id);}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00080\ \textcolor{keyword}{extern}\ \mbox{\hyperlink{structbluetooth__driver__t}{bluetooth\_driver\_t}}*\ bltools\_find\_compatable\_driver(\textcolor{keyword}{const}\ \mbox{\hyperlink{structhci__discovered__device__info__t}{hci\_discovered\_device\_info\_t}}*\ device,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ device\_name);}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00093\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ bltools\_load\_driver(\textcolor{keyword}{const}\ \mbox{\hyperlink{structbluetooth__driver__t}{bluetooth\_driver\_t}}*\ driver,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structhci__discovered__device__info__t}{hci\_discovered\_device\_info\_t}}*\ device);}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00105\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ bltools\_load\_compatable\_driver(\textcolor{keyword}{const}\ \mbox{\hyperlink{structhci__discovered__device__info__t}{hci\_discovered\_device\_info\_t}}*\ device,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ device\_name);}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00124\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ bltools\_begin\_automatic\_discovery(TickType\_t\ duration);}

\end{DoxyCode}
